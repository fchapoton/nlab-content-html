
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN" "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg-flat.dtd" >
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>
      continued fraction in nLab
  </title>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="robots" content="index,follow" />
  
 
  <link href="/stylesheets/instiki.css?1505574123" media="all" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/syntax.css?1505574123" media="all" rel="stylesheet" type="text/css" />
  <style type="text/css">
    h1#pageName, div.info, .newWikiWord a, a.existingWikiWord, .newWikiWord a:hover, [actiontype="toggle"]:hover, #TextileHelp h3 { 
      color: #008B26; 
    }
    a:visited.existingWikiWord {
      color: #005c19;
    }
    
    
  </style>
  
  <style type="text/css"><!--/*--><![CDATA[/*><!--*/    
    .toc ul {margin: 0; padding: 0;}
.toc ul ul {margin: 0; padding: 0 0 0 10px;}
.toc li > p {margin: 0}
.toc ul li {list-style-type: none; position: relative;}
.toc div {border-top:1px dotted #ccc;}
.rightHandSide h2 {font-size: 1.5em;color:#008B26}
table.plaintable {
    border-collapse:collapse;
    margin-left:30px;
    border:0;
}
.plaintable td {border:1px solid #000; padding: 3px;}
.plaintable th {padding: 3px;}
.plaintable caption {
    font-weight: bold;
    font-size:1.1em;
    text-align:center;
    margin-left:30px;
}
    
   
/* Query boxes for questioning and answering mechanism */
div.query{
background: #f6fff3;
border: solid #ce9;
border-width: 2px 1px;
padding: 0 1em;
margin: 0 1em;
max-height: 20em;
overflow: auto;
}

/* Standout boxes for putting important text */
div.standout{
background: #fff1f1;
border: solid black;
border-width: 2px 1px;
padding: 0 1em;
margin: 0 1em;
overflow: auto;
}

/* Icon for links to n-category arXiv documents 
 (commented out for now i.e. disabled)
a[href*="http://arxiv.org/"] {
  background-image: url(../files/arXiv_icon.gif);
  background-repeat: no-repeat;
  background-position: right bottom;
     padding-right: 22px;
  } */
    
/* Icon for links to n-category cafe posts (disabled) 
a[href*="http://golem.ph.utexas.edu/category"] {
  background-image: url(../files/n-cafe_5.gif);
  background-repeat: no-repeat;
  background-position: right bottom;
     padding-right: 25px;
  } */

/* Icon for links to pdf files (disabled)
a[href$=".pdf"] {
  background-image: url(../files/pdficon_small.gif);
  background-repeat: no-repeat;
  background-position: right bottom;
     padding-right: 25px;
  } */

/* Icon for links to pages, etc. -inside- pdf files (disabled)
a[href*=".pdf#"] {
  background-image: url(../files/pdf_entry.gif);
  background-repeat: no-repeat;
  background-position: right bottom;
     padding-right: 25px;
  } */

a.existingWikiWord {
color: #005000;
}

a.existingWikiWord:visited {
color: #005000;
}


a.existingWikiWord[title] {
border: 0px;
color: #aa0505;
text-decoration: none;
}
    
a.existingWikiWord[title]:visited {
border: 0px;
color: #551111;
text-decoration: none;
}

a[href^="http://"] {
border: 0px;
color: #003399;
}

a[href^="http://"]:visited {
border: 0px;
color: #330066;
}

a[href^="https://"] {
border: 0px;
color: #003399;
}

a[href^="https://"]:visited {
border: 0px;
color: #330066;
}

div.dropDown .hide {
display: none;
}

div.dropDown:hover .hide {
display:block;
}

div.clickDown .hide {
display: none;
}

div.clickDown:focus {
outline:none;
}

div.clickDown:focus .hide, div.clickDown:hover .hide {
display: block;
}

div.clickDown .clickToReveal, div.clickDown:focus .clickToHide {
display:block;
}

div.clickDown:focus .clickToReveal, div.clickDown .clickToHide {
display:none;
}

div.clickDown .clickToReveal:after {
content: "\A(Hover to reveal, click to \"hold\")";
font-size: 60%;
}

div.clickDown .clickToHide:after {
content: "\A(Click to hide)";
font-size: 60%;
}
div.clickDown .clickToHide, div.clickDown .clickToReveal {
white-space: pre-wrap;
}

.un_theorem, .num_theorem, .un_lemma, .num_lemma, .un_prop, .num_prop, .un_cor, .num_cor, .un_defn, .num_defn, .un_example, .num_example, .un_note, .num_note, .un_remark, .num_remark {
margin-left: 1em;
}

span.theorem_label {
margin-left: -1em;
}
.proof span.theorem_label {
margin-left: 0em;
}
:target {
    background-color: #BBBBBB;
    border-radius: 5pt;
    padding: 0 10pt;
}
    
    
    
    
    
    
    
    
    
    
    
  /*]]>*/--></style>
  <script src="/javascripts/prototype.js?1505574123" type="text/javascript"></script>
<script src="/javascripts/effects.js?1505574123" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1505574123" type="text/javascript"></script>
<script src="/javascripts/controls.js?1505574123" type="text/javascript"></script>
<script src="/javascripts/application.js?1505574123" type="text/javascript"></script>
  <script src="/javascripts/page_helper.js?1505574123" type="text/javascript"></script>
  <script src="/javascripts/thm_numbering.js?1505574123" type="text/javascript"></script>
  
  <script type="text/x-mathjax-config">
  <!--//--><![CDATA[//><!--
    MathJax.Ajax.config.path["Contrib"] = "/MathJax";
    MathJax.Hub.Config({
      MathML: { useMathMLspacing: true },
      "HTML-CSS": { scale: 90,
                    extensions: ["handle-floats.js"]
      }
    });
    MathJax.Hub.Queue( function () {
       var fos = document.getElementsByTagName('foreignObject');
       for (var i = 0; i < fos.length; i++) {
         MathJax.Hub.Typeset(fos[i]);
       }
    });
  //--><!]]>
  </script>

  <script type="text/javascript">
    <!--//--><![CDATA[//><!--
    window.addEventListener("DOMContentLoaded", function () {
      var div = document.createElement('div');
      var math = document.createElementNS('http://www.w3.org/1998/Math/MathML', 'math');
      document.body.appendChild(div);
      div.appendChild(math);
    // Test for MathML support comparable to WebKit version https://trac.webkit.org/changeset/203640 or higher.
      div.setAttribute('style', 'font-style: italic');
      var mathml_unsupported = !(window.getComputedStyle(div.firstChild).getPropertyValue('font-style') === 'normal');
      div.parentNode.removeChild(div);
      if (mathml_unsupported) {
        // MathML does not seem to be supported...
        var s = document.createElement('script');
        s.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=MML_HTMLorMML-full";
        document.querySelector('head').appendChild(s);
      } else {
        document.head.insertAdjacentHTML("beforeend", '<style>svg[viewBox] {max-width: 100%}</style>');
      }
    });
    //--><!]]>
  </script>

  	<link href="https://ncatlab.org/nlab/atom_with_headlines" rel="alternate" title="Atom with headlines" type="application/atom+xml" />
  	<link href="https://ncatlab.org/nlab/atom_with_content" rel="alternate" title="Atom with full content" type="application/atom+xml" />
  <script type="text/javascript">
  document.observe("dom:loaded", function() {
    generateThmNumbers();
  });
  </script>
</head>

<body>

<div id="Container">
<div id="Content">
  <h1 id="pageName">
    
<span id="svg_logo"><svg version="1.1" width="100%" height="100%" viewBox='0 -1 180 198' xmlns='http://www.w3.org/2000/svg'>
      <path id="svg_logo_path" fill="#008B26" stroke-width='0.5' stroke='#000' d='
        M170,60c4,11-1,20-12,25c-9,4-25,3-20,15c5,5,15,0,24,1c11,1,21,11,14,21c-10,15-35,6-48-1c-5-3-27-23-32-10c-1,13,15,10,22,16
        c11,4,24,14,34,20c12,10,7,25-9,23c-11-1-22-9-30-16c-5-5-13-18-21-9c-2,6,2,11,5,14c9,9,22,14,22,31c-2,8-12,8-18,4c-4-3-9-8-11-13
        c-3-6-5-18-12-18c-14-1-5,28-18,30c-9,2-13-9-12-16c1-14,12-24,21-31c5-4,17-13,10-20c-9-10-19,12-23,16c-7,7-17,16-31,15
        c-9-1-18-9-11-17c5-7,14-4,23-6c6-1,15-8,8-15c-5-6-57,2-42-24c7-12,51,4,61,6c6,1,17,4,18-4c2-11-12-7-21-8c-21-2-49-14-49-34
        c0-5,3-11,8-11C31,42,34,65,42,67c6,1,9-3,8-9C49,49,38,40,40,25c1-5,4-15,13-14c10,2,11,18,13,29c1,8,0,24,7,28c15,0,5-22,4-30
        C74,23,78,7,87,1c8-4,14,1,16,9c2,11-8,21-2,30c8,2,11-6,14-12c9-14,36-18,30,5c-3,9-12,19-21,24c-6,4-22,10-23,19c-2,14,15,2,18-2
        c9-9,20-18,33-22C159,52,166,54,170,60' />
    </svg></span>
      <span class="webName">nLab</span><br />
      continued fraction
  </h1>



<div class="navigation">
    <span class="skipNav"><a href='#navEnd'>Skip the Navigation Links</a> | </span>
    <a href="/nlab/show/HomePage" accesskey="H" title="Home, Sweet Home">Home Page</a> | 
    <a href="/nlab/list" accesskey="A" title="Alphabetically sorted list of pages">All Pages</a> | 
    <a href="/nlab/latest_revisions" accesskey="U" title="View latest revisions on this web">Latest Revisions</a> |
    <a href="/nlab/authors" title="Who wrote what">Authors</a> | 
    <a href="/nlab/feeds" title="Subscribe to changes by Atom">Feeds</a> | 
    <a href="/nlab/export" accesskey="X" title="Download a zip with all the pages in this wiki">Export</a> |
<form accept-charset="utf-8" action="/nlab/search" id="navigationSearchForm" method="get">      <fieldset class="search"><input type="text" id="searchField" name="query" value="Search"
             onfocus="this.value == 'Search' ? this.value = '' : true"
             onblur="this.value == '' ? this.value = 'Search' : true" /></fieldset>
</form>  <span id='navEnd'></span>
</div>






<div id="revision">
    <h1 id='contents'>Contents</h1>
<div class='maruku_toc'><ul><li><a href='#idea'>Idea</a></li><li><a href='#coalgebraic_formulation'>Coalgebraic formulation</a></li><li><a href='#topology_of_infinite_continued_fractions'>Topology of infinite continued fractions</a></li><li><a href='#examples_and_further_results'>Examples and further results</a><ul><li><a href='#half-open'>Reals as terminal coalgebra</a></li><li><a href='#rationals_as_initial_algebra'>Rationals as initial algebra</a></li></ul></li><li><a href='#rational_tangles'>Rational tangles</a></li><li><a href='#the_calkinwilf_and_sternbrocot_trees'>The Calkin-Wilf and Stern-Brocot trees</a></li><li><a href='#constructive_aspects'>Constructive aspects</a></li><li><a href='#references'>References</a></li></ul></div>
<h2 id='idea'>Idea</h2>

<p>A <em>continued fraction</em> (<em>Kettenbrüche</em> in German) is a finite or infinite expression of the form</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_1' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>=</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>+</mo><mfrac><mrow><msub><mi>b</mi> <mn>1</mn></msub></mrow><mrow><msub><mi>a</mi> <mn>1</mn></msub><mo>+</mo><mfrac><mrow><msub><mi>b</mi> <mn>2</mn></msub></mrow><mrow><msub><mi>a</mi> <mn>2</mn></msub><mo>+</mo><mfrac><mrow><msub><mi>b</mi> <mn>3</mn></msub></mrow><mrow><msub><mi>a</mi> <mn>3</mn></msub><mo>+</mo><mi>⋯</mi></mrow></mfrac></mrow></mfrac></mrow></mfrac></mrow><annotation encoding='application/x-tex'>x = a_0 + \frac{b_1}{a_1 + \frac{b_2}{a_2 + \frac{b_3}{a_3 + \cdots}}} </annotation></semantics></math></div>
<p>with convergence under appropriate conditions. The most commonly used form is where <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_2' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>b</mi> <mi>i</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>b_i = 1</annotation></semantics></math> for all <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_3' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>i</mi></mrow><annotation encoding='application/x-tex'>i</annotation></semantics></math>; such is called a <em>regular</em> continued fraction.</p>

<p>Every real number may be (more or less<sup id='fnref:1'><a href='#fn:1' rel='footnote'>1</a></sup>) uniquely expressed as a finite or infinite regular continued fraction for which all the <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_4' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mi>i</mi></msub></mrow><annotation encoding='application/x-tex'>a_i</annotation></semantics></math> are <a class='existingWikiWord' href='/nlab/show/integer'>integers</a> and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_5' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mi>i</mi></msub><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding='application/x-tex'>a_i \gt 0</annotation></semantics></math> for <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_6' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>i</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding='application/x-tex'>i \gt 0</annotation></semantics></math>. The expression is an infinite continued fraction if and only if the real number is <a class='existingWikiWord' href='/nlab/show/irrational+number'>irrational</a>, so that there is a <a class='existingWikiWord' href='/nlab/show/bijection'>bijection</a></p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_7' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ℤ</mi><mo>×</mo><mo stretchy='false'>(</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><msup><mo stretchy='false'>)</mo> <mrow><msub><mi>ℕ</mi> <mo>+</mo></msub></mrow></msup><mo>→</mo><mo stretchy='false'>{</mo><mi>irrationals</mi><mo stretchy='false'>}</mo></mrow><annotation encoding='application/x-tex'>\mathbb{Z} \times (\mathbb{N}_+)^{\mathbb{N}_+} \to \{irrationals\}</annotation></semantics></math></div><div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_8' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>;</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>2</mn></msub><mo>,</mo><mi>…</mi><mo stretchy='false'>)</mo><mo>↦</mo><mi>x</mi><mo>=</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>+</mo><mfrac><mn>1</mn><mrow><msub><mi>a</mi> <mn>1</mn></msub><mo>+</mo><mfrac><mn>1</mn><mrow><msub><mi>a</mi> <mn>2</mn></msub><mo>+</mo><mfrac><mn>1</mn><mrow><msub><mi>a</mi> <mn>3</mn></msub><mo>+</mo><mi>⋯</mi></mrow></mfrac></mrow></mfrac></mrow></mfrac><mo>.</mo></mrow><annotation encoding='application/x-tex'>(a_0; a_1, a_2, \ldots) \mapsto x = a_0 + \frac{1}{a_1 + \frac{1}{a_2 + \frac{1}{a_3 + \cdots}}}.</annotation></semantics></math></div>
<p>This is in fact a <a class='existingWikiWord' href='/nlab/show/homeomorphism'>homeomorphism</a> if we endow the left side with the <a class='existingWikiWord' href='/nlab/show/product+topological+space'>product topology</a> and the right side with the <a class='existingWikiWord' href='/nlab/show/subspace'>subspace</a> topology, regarding the set of irrationals as a subset of the real line (with its standard <a class='existingWikiWord' href='/nlab/show/topological+space'>topology</a>). (The space of irrationals becomes in this way a kind of prototypical chaotic dynamical system, where the dynamics on the product space is given by a shift map.)</p>

<h2 id='coalgebraic_formulation'>Coalgebraic formulation</h2>

<p>We can describe the basic theory of continued fractions for real numbers in terms of dynamics of <a class='existingWikiWord' href='/nlab/show/Moebius+transformation'>fractional linear transformations</a> on the real <a class='existingWikiWord' href='/nlab/show/projective+line'>projective line</a> <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_9' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>ℙ</mi> <mn>1</mn></msup><mo stretchy='false'>(</mo><mi>ℝ</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\mathbb{P}^1(\mathbb{R})</annotation></semantics></math>, with the point at infinity playing a special role. From an nPOV, it is useful to cast this in <a class='existingWikiWord' href='/nlab/show/coalgebra+for+an+endofunctor'>coalgebraic</a> terms.</p>

<p>Let us denote by <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_10' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>R</mi></mstyle></mrow><annotation encoding='application/x-tex'>\mathbf{R}</annotation></semantics></math> the <a class='existingWikiWord' href='/nlab/show/interval'>interval</a> <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_11' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><mn>1</mn><mo>,</mo><mn>∞</mn><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[1, \infty]</annotation></semantics></math> (considered as a subset of the projective line <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_12' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>ℙ</mi> <mn>1</mn></msup><mo stretchy='false'>(</mo><mi>ℝ</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\mathbb{P}^1(\mathbb{R})</annotation></semantics></math>); if <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_13' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>1</mn><mo>≤</mo><mi>x</mi><mo>&lt;</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>1 \leq x \lt \infty</annotation></semantics></math>, we let <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_14' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>fl</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>fl(x)</annotation></semantics></math> be the floor of <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_15' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi></mrow><annotation encoding='application/x-tex'>x</annotation></semantics></math> (the greatest integer such that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_16' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>fl</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo>≤</mo><mi>x</mi></mrow><annotation encoding='application/x-tex'>fl(x) \leq x</annotation></semantics></math>). We denote by <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_17' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>ℕ</mi> <mo>+</mo></msub></mrow><annotation encoding='application/x-tex'>\mathbb{N}_+</annotation></semantics></math> the set of positive integers (so, excluding <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_18' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>0</mn></mrow><annotation encoding='application/x-tex'>0</annotation></semantics></math>). Put <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_19' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mn>1</mn></mstyle><mo>=</mo><mo stretchy='false'>{</mo><mo>*</mo><mo stretchy='false'>}</mo></mrow><annotation encoding='application/x-tex'>\mathbf{1} = \{\ast\}</annotation></semantics></math>, and define a map</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_20' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>α</mi><mo>:</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle><mo>→</mo><mstyle mathvariant='bold'><mn>1</mn></mstyle><mo>+</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle><mo>×</mo><msub><mi>ℕ</mi> <mo>+</mo></msub></mrow><annotation encoding='application/x-tex'>\alpha: \mathbf{R} \to \mathbf{1} + \mathbf{R} \times \mathbb{N}_+</annotation></semantics></math></div>
<p>where <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_21' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>α</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo>=</mo><mo stretchy='false'>(</mo><mo stretchy='false'>(</mo><mi>x</mi><mo>−</mo><mi>fl</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><msup><mo stretchy='false'>)</mo> <mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn></mrow></msup><mo>,</mo><mi>fl</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\alpha(x) = ((x - fl(x))^{-1}, fl(x))</annotation></semantics></math> if <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_22' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>&lt;</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>x \lt \infty</annotation></semantics></math>, and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_23' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>α</mi><mo stretchy='false'>(</mo><mn>∞</mn><mo stretchy='false'>)</mo><mo>=</mo><mo>*</mo></mrow><annotation encoding='application/x-tex'>\alpha(\infty) = \ast</annotation></semantics></math>. This defines a coalgebra of the functor <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_24' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>F</mi><mo>:</mo><mi>Set</mi><mo>→</mo><mi>Set</mi></mrow><annotation encoding='application/x-tex'>F: Set \to Set</annotation></semantics></math> defined by the formula</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_25' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>F</mi><mo stretchy='false'>(</mo><mi>X</mi><mo stretchy='false'>)</mo><mo>=</mo><mstyle mathvariant='bold'><mn>1</mn></mstyle><mo>+</mo><mi>X</mi><mo>×</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><mo>.</mo></mrow><annotation encoding='application/x-tex'>F(X) = \mathbf{1} + X \times \mathbb{N}_+.</annotation></semantics></math></div>
<p>Let us define <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_26' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>∈</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle></mrow><annotation encoding='application/x-tex'>x \in \mathbf{R}</annotation></semantics></math> to be <em>rational</em> if it is a quotient of two integers (including <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_27' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>0</mn></mrow><annotation encoding='application/x-tex'>0</annotation></semantics></math>, so <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_28' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>1</mn><mo stretchy='false'>/</mo><mn>0</mn><mo>=</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>1/0 = \infty</annotation></semantics></math> is here considered “rational”). Define <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_29' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>τ</mi><mo>:</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle><mo>→</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle></mrow><annotation encoding='application/x-tex'>\tau: \mathbf{R} \to \mathbf{R}</annotation></semantics></math> by <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_30' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>τ</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo>=</mo><mo stretchy='false'>(</mo><mi>x</mi><mo>−</mo><mi>fl</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><msup><mo stretchy='false'>)</mo> <mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding='application/x-tex'>\tau(x) = (x - fl(x))^{-1}</annotation></semantics></math> if <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_31' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>&lt;</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>x \lt \infty</annotation></semantics></math>, and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_32' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>τ</mi><mo stretchy='false'>(</mo><mn>∞</mn><mo stretchy='false'>)</mo><mo>=</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>\tau(\infty) = \infty</annotation></semantics></math>.</p>

<div class='num_lemma' id='rational'>
<h6 id='lemma'>Lemma</h6>

<p>An element <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_33' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>∈</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle></mrow><annotation encoding='application/x-tex'>x \in \mathbf{R}</annotation></semantics></math> is rational if and only if there exists <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_34' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>n</mi><mo>≥</mo><mn>0</mn></mrow><annotation encoding='application/x-tex'>n \geq 0</annotation></semantics></math> such that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_35' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>τ</mi> <mi>n</mi></msup><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo>=</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>\tau^n(x) = \infty</annotation></semantics></math>.</p>
</div>

<div class='proof'>
<h6 id='proof'>Proof</h6>

<p>Only if: this is clear for <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_36' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>=</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>x = \infty</annotation></semantics></math>. Otherwise, write <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_37' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>=</mo><mi>p</mi><mo stretchy='false'>/</mo><mi>q</mi></mrow><annotation encoding='application/x-tex'>x = p/q</annotation></semantics></math> in lowest terms, so that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_38' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>p</mi><mo>,</mo><mi>q</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding='application/x-tex'>p, q \gt 0</annotation></semantics></math> and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_39' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>gcd</mi><mo stretchy='false'>(</mo><mi>p</mi><mo>,</mo><mi>q</mi><mo stretchy='false'>)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>\gcd(p, q) = 1</annotation></semantics></math>. We argue by strong induction on <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_40' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi></mrow><annotation encoding='application/x-tex'>q</annotation></semantics></math>, where we have <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_41' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>p</mi><mo>=</mo><mi>n</mi><mi>q</mi><mo>+</mo><mi>r</mi></mrow><annotation encoding='application/x-tex'>p = n q + r</annotation></semantics></math> for which <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_42' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>n</mi><mo>=</mo><mi>fl</mi><mo stretchy='false'>(</mo><mi>p</mi><mo stretchy='false'>/</mo><mi>q</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>n = fl(p/q)</annotation></semantics></math> and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_43' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>0</mn><mo>≤</mo><mi>r</mi><mo>&lt;</mo><mi>q</mi></mrow><annotation encoding='application/x-tex'>0 \leq r \lt q</annotation></semantics></math> by the Euclidean algorithm. If <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_44' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>r</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding='application/x-tex'>r = 0</annotation></semantics></math>, then <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_45' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>τ</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo>=</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>\tau(x) = \infty</annotation></semantics></math> and we are done; otherwise <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_46' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>τ</mi><mo stretchy='false'>(</mo><mi>p</mi><mo stretchy='false'>/</mo><mi>q</mi><mo stretchy='false'>)</mo><mo>=</mo><mi>q</mi><mo stretchy='false'>/</mo><mi>r</mi></mrow><annotation encoding='application/x-tex'>\tau(p/q) = q/r</annotation></semantics></math> where <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_47' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi><mo>&gt;</mo><mi>r</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding='application/x-tex'>q \gt r \gt 0</annotation></semantics></math> and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_48' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>gcd</mi><mo stretchy='false'>(</mo><mi>q</mi><mo>,</mo><mi>r</mi><mo stretchy='false'>)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>\gcd(q, r) = 1</annotation></semantics></math>, whence <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_49' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>τ</mi> <mi>n</mi></msup><mo stretchy='false'>(</mo><mi>q</mi><mo stretchy='false'>/</mo><mi>r</mi><mo stretchy='false'>)</mo><mo>=</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>\tau^n (q/r) = \infty</annotation></semantics></math> for some <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_50' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>n</mi></mrow><annotation encoding='application/x-tex'>n</annotation></semantics></math> by inductive hypothesis, and then <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_51' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>τ</mi> <mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy='false'>(</mo><mi>p</mi><mo stretchy='false'>/</mo><mi>q</mi><mo stretchy='false'>)</mo><mo>=</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>\tau^{n+1}(p/q) = \infty</annotation></semantics></math>.</p>

<p>If: argue by induction on the least <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_52' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>n</mi></mrow><annotation encoding='application/x-tex'>n</annotation></semantics></math> such that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_53' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>τ</mi> <mi>n</mi></msup><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo>=</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>\tau^n(x) = \infty</annotation></semantics></math>. If <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_54' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding='application/x-tex'>n = 0</annotation></semantics></math>, then <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_55' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>=</mo><msup><mi>τ</mi> <mn>0</mn></msup><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo>=</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>x = \tau^0(x) = \infty</annotation></semantics></math> is rational. Otherwise, we have</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_56' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>=</mo><mi>fl</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo>+</mo><mn>1</mn><mo stretchy='false'>/</mo><mi>τ</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>x = fl(x) + 1/\tau(x)</annotation></semantics></math></div>
<p>and since <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_57' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>τ</mi> <mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy='false'>(</mo><mi>τ</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo stretchy='false'>)</mo><mo>=</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>\tau^{n-1}(\tau(x)) = \infty</annotation></semantics></math>, we have that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_58' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>τ</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\tau(x)</annotation></semantics></math> is rational by inductive hypothesis, and therefore <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_59' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi></mrow><annotation encoding='application/x-tex'>x</annotation></semantics></math> is also rational.</p>
</div>

<div class='num_lemma' id='converge'>
<h6 id='lemma_2'>Lemma</h6>

<p>If <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_60' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>2</mn></msub><mo>,</mo><mi>…</mi><mo stretchy='false'>)</mo><mo>∈</mo><mo stretchy='false'>(</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><msup><mo stretchy='false'>)</mo> <mi>ℕ</mi></msup></mrow><annotation encoding='application/x-tex'>(a_0, a_1, a_2, \ldots) \in (\mathbb{N}_+)^{\mathbb{N}}</annotation></semantics></math> is any sequence of positive integers, then there is a unique <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_61' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>∈</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle></mrow><annotation encoding='application/x-tex'>x \in \mathbf{R}</annotation></semantics></math> such that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_62' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mi>n</mi></msub><mo>=</mo><mi>fl</mi><mo stretchy='false'>(</mo><msup><mi>τ</mi> <mi>n</mi></msup><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>a_n = fl(\tau^n(x))</annotation></semantics></math> for all <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_63' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>n</mi><mo>≥</mo><mn>0</mn></mrow><annotation encoding='application/x-tex'>n \geq 0</annotation></semantics></math>. (This <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_64' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi></mrow><annotation encoding='application/x-tex'>x</annotation></semantics></math> must be irrational by Lemma <a class='maruku-ref' href='#rational'>1</a>.)</p>
</div>

<div class='proof'>
<h6 id='proof_2'>Proof</h6>

<p>In a nutshell, <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_65' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi></mrow><annotation encoding='application/x-tex'>x</annotation></semantics></math> is given by the continued fraction</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_66' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>=</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>+</mo><mfrac><mn>1</mn><mrow><msub><mi>a</mi> <mn>1</mn></msub><mo>+</mo><mfrac><mn>1</mn><mrow><msub><mi>a</mi> <mn>2</mn></msub><mo>+</mo><mfrac><mn>1</mn><mrow><msub><mi>a</mi> <mn>3</mn></msub><mo>+</mo><mi>⋯</mi></mrow></mfrac></mrow></mfrac></mrow></mfrac></mrow><annotation encoding='application/x-tex'>x = a_0 + \frac{1}{a_1 + \frac{1}{a_2 + \frac{1}{a_3 + \cdots}}} </annotation></semantics></math></div>
<p>and so it is really only a matter of proving that this continued fraction converges, i.e., that its truncations <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_67' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>p</mi> <mi>n</mi></msub><mo stretchy='false'>/</mo><msub><mi>q</mi> <mi>n</mi></msub><mo>=</mo><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mi>n</mi></msub><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>p_n/q_n = [a_0, a_1, \ldots, a_n]</annotation></semantics></math>, namely the rational numbers <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_68' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>p</mi> <mi>n</mi></msub><mo stretchy='false'>/</mo><msub><mi>q</mi> <mi>n</mi></msub></mrow><annotation encoding='application/x-tex'>p_n/q_n</annotation></semantics></math> with <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_69' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>τ</mi> <mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy='false'>(</mo><msub><mi>p</mi> <mi>n</mi></msub><mo stretchy='false'>/</mo><msub><mi>q</mi> <mi>n</mi></msub><mo stretchy='false'>)</mo><mo>=</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>\tau^{n+1}(p_n/q_n) = \infty</annotation></semantics></math> and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_70' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>fl</mi><mo stretchy='false'>(</mo><msup><mi>τ</mi> <mi>k</mi></msup><mo stretchy='false'>(</mo><msub><mi>p</mi> <mi>n</mi></msub><mo stretchy='false'>/</mo><msub><mi>q</mi> <mi>n</mi></msub><mo stretchy='false'>)</mo><mo stretchy='false'>)</mo><mo>=</mo><msub><mi>a</mi> <mi>k</mi></msub></mrow><annotation encoding='application/x-tex'>fl(\tau^k(p_n/q_n)) = a_k</annotation></semantics></math> for <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_71' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>0</mn><mo>≤</mo><mi>k</mi><mo>≤</mo><mi>n</mi></mrow><annotation encoding='application/x-tex'>0 \leq k \leq n</annotation></semantics></math>, form a <a class='existingWikiWord' href='/nlab/show/Cauchy+sequence'>Cauchy sequence</a>.</p>

<p>For <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_72' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>a</mi><mo>∈</mo><msub><mi>ℕ</mi> <mo>+</mo></msub></mrow><annotation encoding='application/x-tex'>a \in \mathbb{N}_+</annotation></semantics></math>, let <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_73' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>a</mi><mo>⋅</mo><mo lspace='verythinmathspace' rspace='0em'>−</mo><mo>:</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle><mo>→</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle></mrow><annotation encoding='application/x-tex'>a \cdot -: \mathbf{R} \to \mathbf{R}</annotation></semantics></math> denote the fractional linear transformation <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_74' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>↦</mo><mi>a</mi><mo>+</mo><mfrac><mn>1</mn><mi>x</mi></mfrac></mrow><annotation encoding='application/x-tex'>x \mapsto a + \frac1{x}</annotation></semantics></math>. We have</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_75' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><mi>a</mi><mo stretchy='false'>]</mo><mo>=</mo><mi>a</mi><mo>⋅</mo><mn>∞</mn><mo>,</mo><mspace width='2em'></mspace><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mi>n</mi></msub><mo stretchy='false'>]</mo><mo>=</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>⋅</mo><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mi>n</mi></msub><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[a] = a \cdot \infty, \qquad [a_0, a_1, \ldots, a_n] = a_0 \cdot [a_1, \ldots, a_n]</annotation></semantics></math></div>
<p>and since <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_76' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>a</mi><mo>⋅</mo><mo lspace='verythinmathspace' rspace='0em'>−</mo><mo>:</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle><mo>→</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle></mrow><annotation encoding='application/x-tex'>a \cdot -: \mathbf{R} \to \mathbf{R}</annotation></semantics></math> is monotone decreasing, we have that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_77' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mn>0</mn></msub><mo>⋅</mo><mo stretchy='false'>(</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>⋅</mo><mo lspace='verythinmathspace' rspace='0em'>−</mo><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>a_0 \cdot (a_1 \cdot -)</annotation></semantics></math> is monotone increasing. Thus some easy inductions establish</p>

<ul>
<li><div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_78' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo stretchy='false'>]</mo><mo>&lt;</mo><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>2</mn></msub><mo stretchy='false'>]</mo><mo>&lt;</mo><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>2</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>3</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>4</mn></msub><mo stretchy='false'>]</mo><mo>&lt;</mo><mi>…</mi></mrow><annotation encoding='application/x-tex'>[a_0] \lt [a_0, a_1, a_2] \lt [a_0, a_1, a_2, a_3, a_4] \lt \ldots</annotation></semantics></math></div></li>

<li><div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_79' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo stretchy='false'>]</mo><mo>&gt;</mo><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>2</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>3</mn></msub><mo stretchy='false'>]</mo><mo>&gt;</mo><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>2</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>3</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>4</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>5</mn></msub><mo stretchy='false'>]</mo><mo>&gt;</mo><mi>…</mi></mrow><annotation encoding='application/x-tex'>[a_0, a_1] \gt [a_0, a_1, a_2, a_3] \gt [a_0, a_1, a_2, a_3, a_4, a_5] \gt \ldots</annotation></semantics></math></div></li>

<li><div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_80' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mrow><mn>2</mn><mi>n</mi></mrow></msub><mo stretchy='false'>]</mo><mo>&lt;</mo><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mrow><mn>2</mn><mi>n</mi></mrow></msub><mo>,</mo><msub><mi>a</mi> <mrow><mn>2</mn><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[a_0, \ldots, a_{2n}] \lt [a_0, \ldots, a_{2n}, a_{2n+1}]</annotation></semantics></math></div></li>
</ul>

<p>so that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_81' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>sup</mi> <mi>n</mi></msub><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mrow><mn>2</mn><mi>n</mi></mrow></msub><mo stretchy='false'>]</mo><mo>≤</mo><msub><mi>inf</mi> <mi>n</mi></msub><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mrow><mn>2</mn><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>\sup_n [a_0, \ldots, a_{2n}] \leq \inf_n [a_0, \ldots, a_{2n+1}]</annotation></semantics></math>, and all that remains is to show <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_82' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>lim</mi> <mrow><mi>m</mi><mo>→</mo><mn>∞</mn></mrow></msub><mrow><mo stretchy='false'>|</mo><msub><mi>p</mi> <mi>m</mi></msub><mo stretchy='false'>/</mo><msub><mi>q</mi> <mi>m</mi></msub><mo>−</mo><msub><mi>p</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy='false'>/</mo><msub><mi>q</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy='false'>|</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding='application/x-tex'>lim_{m\to \infty} {|p_m/q_m - p_{m+1}/q_{m+1}|} = 0</annotation></semantics></math>.</p>

<p>In fact we have</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_83' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mrow><mo>|</mo><mfrac><mrow><msub><mi>p</mi> <mi>m</mi></msub></mrow><mrow><msub><mi>q</mi> <mi>m</mi></msub></mrow></mfrac><mo>−</mo><mfrac><mrow><msub><mi>p</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mrow><msub><mi>q</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></mfrac><mo>|</mo></mrow><mo>=</mo><mfrac><mrow><mo stretchy='false'>|</mo><msub><mi>p</mi> <mi>m</mi></msub><msub><mi>q</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>p</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><msub><mi>q</mi> <mi>m</mi></msub><mo stretchy='false'>|</mo></mrow><mrow><msub><mi>q</mi> <mi>m</mi></msub><msub><mi>q</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><msub><mi>q</mi> <mi>m</mi></msub><msub><mi>q</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></mfrac></mrow><annotation encoding='application/x-tex'>\left|\frac{p_m}{q_m} - \frac{p_{m+1}}{q_{m+1}}\right| = \frac{{|p_m q_{m+1} - p_{m+1}q_m|}}{q_m q_{m+1}} = \frac1{q_m q_{m+1}}</annotation></semantics></math></div>
<p>The second equation is proved by induction on the length <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_84' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>j</mi></mrow><annotation encoding='application/x-tex'>j</annotation></semantics></math> of continued fraction representations <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_85' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><msub><mi>x</mi> <mn>1</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>x</mi> <mi>j</mi></msub><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[x_1, \ldots, x_j]</annotation></semantics></math>. Put <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_86' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mi>m</mi></msub><mo stretchy='false'>]</mo><mo>=</mo><mfrac><mrow><msub><mi>q</mi> <mi>m</mi></msub></mrow><mrow><msub><mi>r</mi> <mi>m</mi></msub></mrow></mfrac></mrow><annotation encoding='application/x-tex'>[a_1, \ldots, a_m] = \frac{q_m}{r_m}</annotation></semantics></math> and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_87' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy='false'>]</mo><mo>=</mo><mfrac><mrow><msub><mi>q</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mrow><msub><mi>r</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></mfrac></mrow><annotation encoding='application/x-tex'>[a_1, \ldots, a_{m+1}] = \frac{q_{m+1}}{r_{m+1}}</annotation></semantics></math>, with all fractions in reduced form, and suppose as induction hypothesis that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_88' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mrow><mo stretchy='false'>|</mo><msub><mi>q</mi> <mi>m</mi></msub><msub><mi>r</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>q</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><msub><mi>r</mi> <mi>m</mi></msub><mo stretchy='false'>|</mo></mrow><mo>=</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>{|q_m r_{m+1} - q_{m+1}r_m|} = 1</annotation></semantics></math>. The fractional linear transformation <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_89' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mn>0</mn></msub><mo>⋅</mo><mo lspace='verythinmathspace' rspace='0em'>−</mo></mrow><annotation encoding='application/x-tex'>a_0 \cdot -</annotation></semantics></math>, being represented by the integral <a class='existingWikiWord' href='/nlab/show/matrix'>matrix</a></p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_90' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>A</mi> <mn>0</mn></msub><mo>=</mo><mrow><mo>(</mo><mrow><mtable><mtr><mtd><msub><mi>a</mi> <mn>0</mn></msub></mtd> <mtd><mn>1</mn></mtd></mtr> <mtr><mtd><mn>1</mn></mtd> <mtd><mn>0</mn></mtd></mtr></mtable></mrow><mo>)</mo></mrow></mrow><annotation encoding='application/x-tex'>A_0 = \left(
\array{ 
a_0 &amp; 1 \\
1 &amp; 0
}\right)
</annotation></semantics></math></div>
<p>with <a class='existingWikiWord' href='/nlab/show/determinant'>determinant</a> <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_91' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>-1</annotation></semantics></math>, takes <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_92' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><mo>±</mo><mn>1</mn><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>(\pm 1)</annotation></semantics></math>-determinant matrices to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_93' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><mo>±</mo><mn>1</mn><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>(\pm 1)</annotation></semantics></math>-determinant matrices. In particular it takes the determinant of absolute value <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_94' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>1</mn></mrow><annotation encoding='application/x-tex'>1</annotation></semantics></math> on the left to one on the right,</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_95' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mrow><mo>(</mo><mrow><mtable><mtr><mtd><msub><mi>q</mi> <mi>m</mi></msub></mtd> <mtd><msub><mi>q</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mtd></mtr> <mtr><mtd><msub><mi>r</mi> <mi>m</mi></msub></mtd> <mtd><msub><mi>r</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mtd></mtr></mtable></mrow><mo>)</mo></mrow><mspace width='thickmathspace'></mspace><mspace width='thickmathspace'></mspace><mover><mo>↦</mo><mrow><msub><mi>A</mi> <mn>0</mn></msub></mrow></mover><mspace width='thickmathspace'></mspace><mspace width='thickmathspace'></mspace><mrow><mo>(</mo><mrow><mtable><mtr><mtd><msub><mi>p</mi> <mi>m</mi></msub></mtd> <mtd><msub><mi>p</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mtd></mtr> <mtr><mtd><msub><mi>q</mi> <mi>m</mi></msub></mtd> <mtd><msub><mi>q</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mtd></mtr></mtable></mrow><mo>)</mo></mrow><mo>,</mo></mrow><annotation encoding='application/x-tex'>\left(
\array{
q_m &amp; q_{m+1} \\
r_m &amp; r_{m+1}
}\right) \; \; \stackrel{A_0}{\mapsto} \; \; \left(
\array{
p_m &amp; p_{m+1} \\
q_m &amp; q_{m+1}
}\right),
</annotation></semantics></math></div>
<p>and this completes the induction.</p>

<p>Here <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_96' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>p</mi> <mi>m</mi></msub><mo>=</mo><msub><mi>a</mi> <mn>0</mn></msub><msub><mi>q</mi> <mi>m</mi></msub><mo>+</mo><msub><mi>r</mi> <mi>m</mi></msub><mo>&gt;</mo><mn>2</mn><msub><mi>r</mi> <mi>m</mi></msub></mrow><annotation encoding='application/x-tex'>p_m = a_0 q_m + r_m \gt 2r_m</annotation></semantics></math> and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_97' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>p</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>a</mi> <mn>0</mn></msub><msub><mi>q</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>r</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>&gt;</mo><mn>2</mn><msub><mi>r</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding='application/x-tex'>p_{m+1} = a_0 q_{m+1} + r_{m+1} \gt 2r_{m+1}</annotation></semantics></math>. Similarly, if</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_98' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>2</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mi>m</mi></msub><mo stretchy='false'>]</mo><mo>=</mo><mfrac><mrow><msub><mi>r</mi> <mi>m</mi></msub></mrow><mrow><msub><mi>s</mi> <mi>m</mi></msub></mrow></mfrac><mo>,</mo><mspace width='2em'></mspace><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>2</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy='false'>]</mo><mo>=</mo><mfrac><mrow><msub><mi>r</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mrow><msub><mi>s</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></mfrac><mo>,</mo></mrow><annotation encoding='application/x-tex'>[a_2, \ldots, a_m] = \frac{r_m}{s_m}, \qquad [a_2, \ldots, a_{m+1}] = \frac{r_{m+1}}{s_{m+1}},</annotation></semantics></math></div>
<p>then <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_99' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>q</mi> <mi>m</mi></msub><mo>&gt;</mo><mn>2</mn><msub><mi>s</mi> <mi>m</mi></msub></mrow><annotation encoding='application/x-tex'>q_m \gt 2s_m</annotation></semantics></math> and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_100' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>q</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>&gt;</mo><mn>2</mn><msub><mi>s</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding='application/x-tex'>q_{m+1} \gt 2s_{m+1}</annotation></semantics></math>. Thus we have</p>

<ul>
<li><div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_101' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mrow><mo stretchy='false'>|</mo><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>2</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mi>m</mi></msub><mo stretchy='false'>]</mo><mo>−</mo><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>2</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy='false'>]</mo><mo stretchy='false'>|</mo></mrow><mo>=</mo><mfrac><mn>1</mn><mrow><msub><mi>s</mi> <mi>m</mi></msub><msub><mi>s</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></mfrac></mrow><annotation encoding='application/x-tex'>{|[a_2, \ldots, a_m] - [a_2, \ldots, a_{m+1}]|} = \frac1{s_m s_{m+1}}</annotation></semantics></math></div></li>

<li><div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_102' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mrow><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mi>m</mi></msub><mo stretchy='false'>]</mo><mo>−</mo><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy='false'>]</mo><mo stretchy='false'>|</mo></mrow><mo>=</mo><mfrac><mn>1</mn><mrow><msub><mi>q</mi> <mi>m</mi></msub><msub><mi>q</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></mfrac><mo>&lt;</mo><mfrac><mn>1</mn><mrow><mo stretchy='false'>(</mo><mn>2</mn><msub><mi>s</mi> <mi>m</mi></msub><mo stretchy='false'>)</mo><mo stretchy='false'>(</mo><mn>2</mn><msub><mi>s</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy='false'>)</mo></mrow></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mn>4</mn><msub><mi>s</mi> <mi>m</mi></msub><msub><mi>s</mi> <mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></mfrac></mrow><annotation encoding='application/x-tex'>{[a_0, \ldots, a_m] - [a_0, \ldots, a_{m+1}]|} = \frac1{q_m q_{m+1}} \lt \frac1{(2s_m)(2s_{m+1})} = \frac1{4s_m s_{m+1}}</annotation></semantics></math></div></li>
</ul>

<p>so that by induction, <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_103' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mrow><mo stretchy='false'>|</mo><msub><mi>p</mi> <mrow><mn>2</mn><mi>m</mi></mrow></msub><mo stretchy='false'>/</mo><msub><mi>q</mi> <mrow><mn>2</mn><mi>m</mi></mrow></msub><mo>−</mo><msub><mi>p</mi> <mrow><mn>2</mn><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy='false'>/</mo><msub><mi>q</mi> <mrow><mn>2</mn><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy='false'>|</mo></mrow><mo>≤</mo><mfrac><mn>1</mn><mrow><msup><mn>4</mn> <mi>m</mi></msup></mrow></mfrac></mrow><annotation encoding='application/x-tex'>{|p_{2m}/q_{2m} - p_{2m+1}/q_{2m+1}|} \leq \frac1{4^m}</annotation></semantics></math>, completing the proof that the infinite continued fraction converges.</p>
</div>

<div class='num_remark'>
<h6 id='remark'>Remark</h6>

<p>It may be tempting to believe that this <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_104' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>F</mi></mrow><annotation encoding='application/x-tex'>F</annotation></semantics></math>-coalgebra structure makes <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_105' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>R</mi></mstyle></mrow><annotation encoding='application/x-tex'>\mathbf{R}</annotation></semantics></math> the terminal coalgebra. That is unfortunately not correct because the coalgebra structure <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_106' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ξ</mi><mo>:</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle><mo>→</mo><mi>F</mi><mo stretchy='false'>(</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\xi: \mathbf{R} \to F(\mathbf{R})</annotation></semantics></math> is not an isomorphism (it fails to be surjective because no element maps to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_107' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><mn>1</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>∞</mn><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>(1, 1, \infty)</annotation></semantics></math> under <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_108' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ξ</mi></mrow><annotation encoding='application/x-tex'>\xi</annotation></semantics></math>; this is the fact that the standard continued fraction for <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_109' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>2</mn></mrow><annotation encoding='application/x-tex'>2</annotation></semantics></math> is just <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_110' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>2</mn></mrow><annotation encoding='application/x-tex'>2</annotation></semantics></math> and not <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_111' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>1</mn><mo>+</mo><mn>1</mn><mo stretchy='false'>/</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>1 + 1/1</annotation></semantics></math>). However, <a href='#half-open'>below</a> we will exhibit a different kind of coalgebra making half-open intervals a terminal coalgebra.</p>
</div>

<h2 id='topology_of_infinite_continued_fractions'>Topology of infinite continued fractions</h2>

<p>Let <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_112' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>I</mi></mstyle></mrow><annotation encoding='application/x-tex'>\mathbf{I}</annotation></semantics></math> be the set of irrational elements <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_113' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>∈</mo><mstyle mathvariant='bold'><mi>R</mi></mstyle></mrow><annotation encoding='application/x-tex'>x \in \mathbf{R}</annotation></semantics></math>. The results above imply that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_114' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>I</mi></mstyle></mrow><annotation encoding='application/x-tex'>\mathbf{I}</annotation></semantics></math> equipped with the map</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_115' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>I</mi></mstyle><mo>→</mo><mstyle mathvariant='bold'><mi>I</mi></mstyle><mo>×</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><mo>:</mo><mi>x</mi><mover><mo>↦</mo><mi>α</mi></mover><mo stretchy='false'>(</mo><mo stretchy='false'>(</mo><mi>x</mi><mo>−</mo><mi>fl</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><msup><mo stretchy='false'>)</mo> <mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn></mrow></msup><mo>,</mo><mi>fl</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\mathbf{I} \to \mathbf{I} \times \mathbb{N}_+: x \stackrel{\alpha}{\mapsto} ((x - fl(x))^{-1}, fl(x))</annotation></semantics></math></div>
<p>is a terminal coalgebra for the functor <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_116' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mo>×</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><mo>:</mo><mi>Set</mi><mo>→</mo><mi>Set</mi></mrow><annotation encoding='application/x-tex'>- \times \mathbb{N}_+: Set \to Set</annotation></semantics></math>, isomorphic to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_117' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><msup><mo stretchy='false'>)</mo> <mi>ℕ</mi></msup></mrow><annotation encoding='application/x-tex'>(\mathbb{N}_+)^{\mathbb{N}}</annotation></semantics></math> under the coalgebra structure</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_118' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><msup><mo stretchy='false'>)</mo> <mi>ℕ</mi></msup><mover><mo>→</mo><mrow><mo stretchy='false'>(</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><msup><mo stretchy='false'>)</mo> <mrow><mo stretchy='false'>⟨</mo><mi>s</mi><mo>,</mo><mi>o</mi><mo stretchy='false'>⟩</mo></mrow></msup></mrow></mover><mo stretchy='false'>(</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><msup><mo stretchy='false'>)</mo> <mrow><mi>ℕ</mi><mo>+</mo><mstyle mathvariant='bold'><mn>1</mn></mstyle></mrow></msup><mo>≅</mo><mo stretchy='false'>(</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><msup><mo stretchy='false'>)</mo> <mi>ℕ</mi></msup><mo>×</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><mo>.</mo></mrow><annotation encoding='application/x-tex'>(\mathbb{N}_+)^{\mathbb{N}} \stackrel{(\mathbb{N}_+)^{\langle s, o\rangle}}{\to} (\mathbb{N}_+)^{\mathbb{N} + \mathbf{1}} \cong (\mathbb{N}_+)^\mathbb{N} \times \mathbb{N}_+.</annotation></semantics></math></div>
<p>Endow <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_119' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>I</mi></mstyle></mrow><annotation encoding='application/x-tex'>\mathbf{I}</annotation></semantics></math> with the subspace topology coming from <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_120' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>R</mi></mstyle></mrow><annotation encoding='application/x-tex'>\mathbf{R}</annotation></semantics></math> (as one-point <a class='existingWikiWord' href='/nlab/show/compactification'>compactification</a> of <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_121' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><mn>1</mn><mo>,</mo><mn>∞</mn><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>[1, \infty)</annotation></semantics></math>), and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_122' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><msup><mo stretchy='false'>)</mo> <mi>ℕ</mi></msup></mrow><annotation encoding='application/x-tex'>(\mathbb{N}_+)^{\mathbb{N}}</annotation></semantics></math> with the topology of the <a class='existingWikiWord' href='/nlab/show/cartesian+product'>product</a> of countably many <a class='existingWikiWord' href='/nlab/show/discrete+object'>discrete spaces</a> <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_123' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ℕ</mi></mrow><annotation encoding='application/x-tex'>\mathbb{N}</annotation></semantics></math>.</p>

<div class='num_lemma'>
<h6 id='lemma_3'>Lemma</h6>

<p>The coalgebra isomorphism <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_124' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>I</mi></mstyle><mo>→</mo><mo stretchy='false'>(</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><msup><mo stretchy='false'>)</mo> <mi>ℕ</mi></msup></mrow><annotation encoding='application/x-tex'>\mathbf{I} \to (\mathbb{N}_+)^{\mathbb{N}}</annotation></semantics></math> is a <a class='existingWikiWord' href='/nlab/show/continuous+map'>continuous map</a>.</p>
</div>

<div class='proof'>
<h6 id='proof_3'>Proof</h6>

<p>It suffices to check that each composite</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_125' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>I</mi></mstyle><mo>→</mo><mo stretchy='false'>(</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><msup><mo stretchy='false'>)</mo> <mi>ℕ</mi></msup><mover><mo>→</mo><mrow><msub><mi>π</mi> <mi>n</mi></msub></mrow></mover><msub><mi>ℕ</mi> <mo>+</mo></msub></mrow><annotation encoding='application/x-tex'>\mathbf{I} \to (\mathbb{N}_+)^{\mathbb{N}} \stackrel{\pi_n}{\to} \mathbb{N}_+</annotation></semantics></math></div>
<p>is continuous. Following the notation <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_126' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>τ</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo>=</mo><mo stretchy='false'>(</mo><mi>x</mi><mo>−</mo><mi>fl</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><msup><mo stretchy='false'>)</mo> <mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding='application/x-tex'>\tau(x) = (x - fl(x))^{-1}</annotation></semantics></math> above, this composite map is <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_127' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>↦</mo><mi>fl</mi><mo stretchy='false'>(</mo><msup><mi>τ</mi> <mi>n</mi></msup><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>x \mapsto fl(\tau^n(x))</annotation></semantics></math>, so it suffices to check that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_128' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>fl</mi><mo>:</mo><mstyle mathvariant='bold'><mi>I</mi></mstyle><mo>→</mo><msub><mi>ℕ</mi> <mo>+</mo></msub></mrow><annotation encoding='application/x-tex'>fl: \mathbf{I} \to \mathbb{N}_+</annotation></semantics></math> is continuous, or in other words that</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_129' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>{</mo><mi>x</mi><mo>∈</mo><mstyle mathvariant='bold'><mi>I</mi></mstyle><mo>:</mo><mi>fl</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo>=</mo><mi>m</mi><mo stretchy='false'>}</mo></mrow><annotation encoding='application/x-tex'>\{x \in \mathbf{I}: fl(x) = m\}</annotation></semantics></math></div>
<p>is <a class='existingWikiWord' href='/nlab/show/open+subspace'>open</a> for every <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_130' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>m</mi></mrow><annotation encoding='application/x-tex'>m</annotation></semantics></math>. This set is clearly open, being the intersection <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_131' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><mi>m</mi><mo>,</mo><mi>m</mi><mo>+</mo><mn>1</mn><mo stretchy='false'>)</mo><mo>∩</mo><mstyle mathvariant='bold'><mi>I</mi></mstyle></mrow><annotation encoding='application/x-tex'>(m, m+1) \cap \mathbf{I}</annotation></semantics></math> (noting that of course <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_132' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>m</mi><mo>∉</mo><mstyle mathvariant='bold'><mi>I</mi></mstyle></mrow><annotation encoding='application/x-tex'>m \notin \mathbf{I}</annotation></semantics></math>!).</p>
</div>

<div class='num_lemma'>
<h6 id='lemma_4'>Lemma</h6>

<p>The coalgebra isomorphism <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_133' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ψ</mi><mo>:</mo><mo stretchy='false'>(</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><msup><mo stretchy='false'>)</mo> <mi>ℕ</mi></msup><mo>→</mo><mstyle mathvariant='bold'><mi>I</mi></mstyle></mrow><annotation encoding='application/x-tex'>\psi: (\mathbb{N}_+)^{\mathbb{N}} \to \mathbf{I}</annotation></semantics></math> is continuous.</p>
</div>

<div class='proof'>
<h6 id='proof_4'>Proof</h6>

<p>This merely says that for each sequence of positive integers <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_134' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><mi>…</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>(a_0, a_1, \ldots)</annotation></semantics></math> and for a given <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_135' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ϵ</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding='application/x-tex'>\epsilon \gt 0</annotation></semantics></math>, that there exists <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_136' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>N</mi></mrow><annotation encoding='application/x-tex'>N</annotation></semantics></math> such that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_137' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mrow><mo stretchy='false'>|</mo><mi>ψ</mi><mo stretchy='false'>(</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><mi>…</mi><mo stretchy='false'>)</mo><mo>−</mo><mi>ψ</mi><mo stretchy='false'>(</mo><msub><mi>b</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>b</mi> <mn>1</mn></msub><mo>,</mo><mi>…</mi><mo stretchy='false'>)</mo><mo stretchy='false'>|</mo></mrow><mo>&lt;</mo><mi>ϵ</mi></mrow><annotation encoding='application/x-tex'>{|\psi(a_0, a_1, \ldots) - \psi(b_0, b_1, \ldots)|} \lt \epsilon</annotation></semantics></math> provided <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_138' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mi>i</mi></msub><mo>=</mo><msub><mi>b</mi> <mi>i</mi></msub></mrow><annotation encoding='application/x-tex'>a_i = b_i</annotation></semantics></math> for <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_139' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>i</mi><mo>=</mo><mn>0</mn><mo>,</mo><mi>…</mi><mo>,</mo><mi>N</mi></mrow><annotation encoding='application/x-tex'>i = 0, \ldots, N</annotation></semantics></math>. But this just follows the proof of convergence of continued fractions given in the proof of Lemma <a class='maruku-ref' href='#converge'>2</a>.</p>
</div>

<div class='num_corollary'>
<h6 id='corollary'>Corollary</h6>

<p>The coalgebra isomorphism <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_140' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ψ</mi></mrow><annotation encoding='application/x-tex'>\psi</annotation></semantics></math> is a homeomorphism.</p>
</div>

<p>This makes the space of irrationals <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_141' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>I</mi></mstyle></mrow><annotation encoding='application/x-tex'>\mathbf{I}</annotation></semantics></math> the terminal coalgebra for the endofunctor <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_142' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mo>×</mo><msub><mi>ℕ</mi> <mo lspace='verythinmathspace' rspace='0em'>+</mo></msub><mo>:</mo><mi>Top</mi><mo>→</mo><mi>Top</mi></mrow><annotation encoding='application/x-tex'>- \times \mathbb{N}_{+}: Top \to Top</annotation></semantics></math>.</p>

<h2 id='examples_and_further_results'>Examples and further results</h2>

<div class='num_example'>
<h6 id='example'>Example</h6>

<p>A continued fraction <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_143' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><mi>…</mi><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[a_0, a_1, \ldots]</annotation></semantics></math> is periodic, i.e., satisfies <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_144' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mi>i</mi></msub><mo>=</mo><msub><mi>a</mi> <mrow><mi>k</mi><mo>+</mo><mi>i</mi></mrow></msub></mrow><annotation encoding='application/x-tex'>a_i = a_{k+i}</annotation></semantics></math> for some fixed <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_145' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>k</mi></mrow><annotation encoding='application/x-tex'>k</annotation></semantics></math> and all <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_146' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>i</mi></mrow><annotation encoding='application/x-tex'>i</annotation></semantics></math>, only if it is the root of a quadratic equation <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_147' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mn>0</mn></msub><mo>⋅</mo><mo stretchy='false'>(</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>⋅</mo><mi>…</mi><mo stretchy='false'>(</mo><msub><mi>a</mi> <mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>⋅</mo><mi>x</mi><mo stretchy='false'>)</mo><mi>…</mi><mo stretchy='false'>)</mo><mo>=</mo><mi>x</mi></mrow><annotation encoding='application/x-tex'>a_0 \cdot (a_1 \cdot \ldots (a_{k-1} \cdot x)\ldots ) = x</annotation></semantics></math> (where the operator on the left can be written as a fractional linear transformation). Every quadratic irrational is <em>eventually</em> periodic (i.e., for some <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_148' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>k</mi></mrow><annotation encoding='application/x-tex'>k</annotation></semantics></math> and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_149' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>N</mi></mrow><annotation encoding='application/x-tex'>N</annotation></semantics></math> we have <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_150' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mi>i</mi></msub><mo>=</mo><msub><mi>a</mi> <mrow><mi>k</mi><mo>+</mo><mi>i</mi></mrow></msub></mrow><annotation encoding='application/x-tex'>a_i = a_{k+i}</annotation></semantics></math> for all <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_151' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>i</mi><mo>≥</mo><mi>N</mi></mrow><annotation encoding='application/x-tex'>i \geq N</annotation></semantics></math>): the proof is part of the theory of <span class='newWikiWord'>Pell&#39;s equation<a href='/nlab/new/Pell%27s+equation'>?</a></span>.</p>
</div>

<p>This example shows that periodic points are <a class='existingWikiWord' href='/nlab/show/dense+subspace'>dense</a> in the discrete <a class='existingWikiWord' href='/nlab/show/dynamical+system'>dynamical system</a> <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_152' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>α</mi> <mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn></mrow></msup><mo>:</mo><mstyle mathvariant='bold'><mi>I</mi></mstyle><mo>×</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><mo>→</mo><mstyle mathvariant='bold'><mi>I</mi></mstyle></mrow><annotation encoding='application/x-tex'>\alpha^{-1}: \mathbf{I} \times \mathbb{N}_+ \to \mathbf{I}</annotation></semantics></math>, since quadratic surds are dense among all irrationals.</p>

<p>Part of the story of Pell’s equation is that an integer solution to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_153' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>x</mi> <mn>2</mn></msup><mo>−</mo><mi>D</mi><msup><mi>y</mi> <mn>2</mn></msup><mo>=</mo><mo>±</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>x^2 - D y^2 = \pm 1</annotation></semantics></math>, with <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_154' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>D</mi></mrow><annotation encoding='application/x-tex'>D</annotation></semantics></math> is a square-free integer, is a pair <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_155' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy='false'>)</mo><mo>=</mo><mo stretchy='false'>(</mo><mi>p</mi><mo>,</mo><mi>q</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>(x, y) = (p, q)</annotation></semantics></math> where <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_156' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>p</mi><mo stretchy='false'>/</mo><mi>q</mi></mrow><annotation encoding='application/x-tex'>p/q</annotation></semantics></math> is a reduced form fraction (a rational approximant) represented by a finite truncation of the continued fraction of <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_157' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msqrt><mi>D</mi></msqrt></mrow><annotation encoding='application/x-tex'>\sqrt{D}</annotation></semantics></math>.</p>

<div class='num_example'>
<h6 id='example_2'>Example</h6>

<p>The quadratic irrational represented by <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_158' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><mn>1</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>1</mn><mo>,</mo><mi>…</mi><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[1, 1, 1, \ldots]</annotation></semantics></math> is the <span class='newWikiWord'>golden ratio<a href='/nlab/new/golden+ratio'>?</a></span> <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_159' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>Φ</mi><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy='false'>(</mo><mn>1</mn><mo>+</mo><msqrt><mn>5</mn></msqrt><mo stretchy='false'>)</mo><mo>≈</mo><mn>1.618</mn><mi>…</mi></mrow><annotation encoding='application/x-tex'>\Phi = \frac1{2}(1 + \sqrt{5}) \approx 1.618\ldots</annotation></semantics></math>. Many properties of this constant (as manifested both mathematically and physically) are due to this fact and the fact that of all infinite continued fractions, the convergence rate of its rational approximants is slowest for this number.</p>
</div>

<div class='num_remark'>
<h6 id='remark_2'>Remark</h6>

<p>Were the Pythagoreans the first to do coalgebra? John Baez remarks in <a href='http://math.ucr.edu/home/baez/week265.html'>Week 265</a> that the Pythagoreans were fascinated by pentagrams, and drops hints that they may have been aware of the continued fraction for the golden ratio and also the fact that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_160' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>Φ</mi></mrow><annotation encoding='application/x-tex'>\Phi</annotation></semantics></math> is irrational. The Pythagorean pentagram on display in Baez’s page clearly indicates an infinite stream of pentagons which can be viewed as a coalgebraic behavior stream. And indeed if <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_161' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>Φ</mi></mrow><annotation encoding='application/x-tex'>\Phi</annotation></semantics></math> were a rational number <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_162' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>p</mi><mo stretchy='false'>/</mo><mi>q</mi></mrow><annotation encoding='application/x-tex'>p/q</annotation></semantics></math> with <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_163' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>p</mi><mo>,</mo><mi>q</mi></mrow><annotation encoding='application/x-tex'>p, q</annotation></semantics></math> as small as possible, then we would also have <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_164' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>Φ</mi><mo>=</mo><mi>q</mi><mo stretchy='false'>/</mo><mo stretchy='false'>(</mo><mi>p</mi><mo>−</mo><mi>q</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\Phi = q/(p-q)</annotation></semantics></math>, with numerator and denominator even smaller, contradiction. This is analogous to one of the famous proofs of irrationality of <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_165' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msqrt><mn>2</mn></msqrt></mrow><annotation encoding='application/x-tex'>\sqrt{2}</annotation></semantics></math>: if <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_166' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msqrt><mn>2</mn></msqrt><mo>=</mo><mi>p</mi><mo stretchy='false'>/</mo><mi>q</mi></mrow><annotation encoding='application/x-tex'>\sqrt{2} = p/q</annotation></semantics></math>, then also <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_167' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msqrt><mn>2</mn></msqrt><mo>=</mo><mo stretchy='false'>(</mo><mn>2</mn><mi>q</mi><mo>−</mo><mi>p</mi><mo stretchy='false'>)</mo><mo stretchy='false'>/</mo><mo stretchy='false'>(</mo><mi>p</mi><mo>−</mo><mi>q</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\sqrt{2} = (2q - p)/(p-q)</annotation></semantics></math>, which generates an infinite descending stream of positive numerators and denominators, contradiction.</p>
</div>

<div class='num_example'>
<h6 id='example_3'>Example</h6>

<p>The continued fraction for <a class='existingWikiWord' href='/nlab/show/Euler+number'>Euler&#39;s number</a> <a class='existingWikiWord' href='/nlab/show/e'>e</a> is given by</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_168' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><mn>2</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>4</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>6</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>8</mn><mo>,</mo><mi>…</mi><mo stretchy='false'>]</mo><mo>.</mo></mrow><annotation encoding='application/x-tex'>[2, 1, 2, 1, 1, 4, 1, 1, 6, 1, 1, 8, \ldots].</annotation></semantics></math></div>
<p>A proof may be found <a href='http://topologicalmusings.wordpress.com/2008/08/04/continued-fraction-for-e/'>here</a>.</p>
</div>

<div class='num_example'>
<h6 id='example_4'>Example</h6>

<p>The regular continued fraction for <a class='existingWikiWord' href='/nlab/show/pi'>Ludolph&#39;s number</a> <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_169' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>π</mi></mrow><annotation encoding='application/x-tex'>\pi</annotation></semantics></math> displays no regularity, but other types of continued fractions do. See <a href='http://en.wikipedia.org/wiki/Pi#Continued_fractions'>Wikipedia</a>.</p>
</div>

<p>The popularity of certain rational approximations to <a class='existingWikiWord' href='/nlab/show/pi'>pi</a> such as <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_170' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mfrac><mn>22</mn><mn>7</mn></mfrac></mrow><annotation encoding='application/x-tex'>\frac{22}{7}</annotation></semantics></math> or <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_171' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mfrac><mn>355</mn><mn>113</mn></mfrac></mrow><annotation encoding='application/x-tex'>\frac{355}{113}</annotation></semantics></math> can be explained by the fact that these are rational approximants obtained by truncating the regular continued fraction for <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_172' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>π</mi></mrow><annotation encoding='application/x-tex'>\pi</annotation></semantics></math>, coupled with the following result.</p>

<div class='num_theorem'>
<h6 id='theorem'>Theorem</h6>

<p>The truncation <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_173' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>p</mi><mo stretchy='false'>/</mo><mi>q</mi><mo>=</mo><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mi>n</mi></msub><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>p/q = [a_0, a_1, \ldots, a_n]</annotation></semantics></math> is a “best” rational approximant to the irrational number <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_174' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>β</mi><mo>=</mo><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><msub><mi>a</mi> <mn>1</mn></msub><mo>,</mo><mi>…</mi><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>\beta = [a_0, a_1, \ldots]</annotation></semantics></math>, in the sense that it minimizes the distance to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_175' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>β</mi></mrow><annotation encoding='application/x-tex'>\beta</annotation></semantics></math> among all rational numbers <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_176' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>r</mi><mo stretchy='false'>/</mo><mi>s</mi></mrow><annotation encoding='application/x-tex'>r/s</annotation></semantics></math> whose denominators <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_177' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>s</mi></mrow><annotation encoding='application/x-tex'>s</annotation></semantics></math> are less than or equal to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_178' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi></mrow><annotation encoding='application/x-tex'>q</annotation></semantics></math>.</p>
</div>

<p>The space of irrationals <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_179' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>I</mi></mstyle></mrow><annotation encoding='application/x-tex'>\mathbf{I}</annotation></semantics></math> may be identified with the space of irrationals in the interval <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_180' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>(0, 1)</annotation></semantics></math> (by taking their reciprocals). Here the action <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_181' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>α</mi> <mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn></mrow></msup><mo>:</mo><mi>Irr</mi><mo stretchy='false'>(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy='false'>)</mo><mo>×</mo><mi>ℕ</mi><mo>→</mo><mi>Irr</mi><mo stretchy='false'>(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\alpha^{-1}: Irr(0, 1) \times \mathbb{N} \to Irr(0, 1)</annotation></semantics></math> is generated by the shift map <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_182' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>τ</mi><mo>:</mo><mi>x</mi><mo>↦</mo><msup><mi>x</mi> <mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn></mrow></msup><mspace width='thickmathspace'></mspace><mi>mod</mi><mspace width='thickmathspace'></mspace><mn>1</mn></mrow><annotation encoding='application/x-tex'>\tau: x \mapsto x^{-1} \; mod \; 1</annotation></semantics></math>.</p>

<div class='num_theorem'>
<h6 id='theorem_2'>Theorem</h6>

<p>The map <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_183' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>τ</mi></mrow><annotation encoding='application/x-tex'>\tau</annotation></semantics></math> is topologically mixing. Moreover, if <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_184' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>Irr</mi><mo stretchy='false'>(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>Irr(0, 1)</annotation></semantics></math> is equipped with the <a class='existingWikiWord' href='/nlab/show/probability+distribution'>probability measure</a></p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_185' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>μ</mi><mo stretchy='false'>(</mo><mi>I</mi><mo stretchy='false'>)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mi>log</mi><mn>2</mn></mrow></mfrac><msub><mo>∫</mo> <mi>I</mi></msub><mfrac><mrow><mi>d</mi><mi>x</mi></mrow><mrow><mn>1</mn><mo>+</mo><mi>x</mi></mrow></mfrac><mo>,</mo></mrow><annotation encoding='application/x-tex'>\mu(I) = \frac1{\log 2} \int_I \frac{d x}{1+x},</annotation></semantics></math></div>
<p>then <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_186' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>τ</mi></mrow><annotation encoding='application/x-tex'>\tau</annotation></semantics></math> is an <span class='newWikiWord'>ergodic transformation<a href='/nlab/new/ergodic+transformation'>?</a></span> with respect to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_187' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>μ</mi></mrow><annotation encoding='application/x-tex'>\mu</annotation></semantics></math>, making <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_188' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><mi>Irr</mi><mo stretchy='false'>(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy='false'>)</mo><mo>,</mo><mi>τ</mi><mo>,</mo><mi>μ</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>(Irr(0, 1), \tau, \mu)</annotation></semantics></math> an ergodic system.</p>
</div>

<p>A proof may be found <a href='http://www.mathematik.uni-wuerzburg.de/~christ/nihon.pdf'>here</a>.</p>

<h3 id='half-open'>Reals as terminal coalgebra</h3>

<p>Returning to the theme of coalgebras, an alternative form of continued fractions may be used to exhibit a half-open real interval as a terminal coalgebra. The alternative continued fractions are of the form</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_189' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>=</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>−</mo><mfrac><mn>1</mn><mrow><msub><mi>a</mi> <mn>1</mn></msub><mo>−</mo><mfrac><mn>1</mn><mrow><msub><mi>a</mi> <mn>2</mn></msub><mo>−</mo><mfrac><mn>1</mn><mrow><msub><mi>a</mi> <mn>3</mn></msub><mo>−</mo><mi>⋯</mi></mrow></mfrac></mrow></mfrac></mrow></mfrac></mrow><annotation encoding='application/x-tex'>x = a_0 - \frac{1}{a_1 - \frac{1}{a_2 - \frac{1}{a_3 - \cdots}}} </annotation></semantics></math></div>
<p>where the <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_190' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mi>i</mi></msub></mrow><annotation encoding='application/x-tex'>a_i</annotation></semantics></math> are suitable integers; for now we will call them <em>antiregular</em> continued fractions (not knowing what others call them), or acf’s for short. These acf’s correspond to <a class='existingWikiWord' href='/nlab/show/Moebius+transformation'>fractional linear transformations</a> belonging to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_191' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>PSL</mi> <mn>2</mn></msub><mo stretchy='false'>(</mo><mi>ℤ</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>PSL_2(\mathbb{Z})</annotation></semantics></math>, generated by the transformations <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_192' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>z</mi><mo>↦</mo><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn><mo stretchy='false'>/</mo><mi>z</mi></mrow><annotation encoding='application/x-tex'>z \mapsto -1/z</annotation></semantics></math>, <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_193' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>z</mi><mo>↦</mo><mi>z</mi><mo>−</mo><mi>n</mi></mrow><annotation encoding='application/x-tex'>z \mapsto z-n</annotation></semantics></math>.</p>

<p>Consider the linear order <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_194' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>ℝ</mi> <mrow><mo>≥</mo><mn>1</mn></mrow></msub></mrow><annotation encoding='application/x-tex'>\mathbb{R}_{\geq 1}</annotation></semantics></math> (this time excluding <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_195' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>∞</mn></mrow><annotation encoding='application/x-tex'>\infty</annotation></semantics></math>); let <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_196' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>β</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\beta(x)</annotation></semantics></math> be the smallest integer <em>strictly</em> greater than <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_197' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi></mrow><annotation encoding='application/x-tex'>x</annotation></semantics></math>.</p>

<p>Consider the endofunctor <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_198' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>G</mi></mrow><annotation encoding='application/x-tex'>G</annotation></semantics></math> on the category of <a class='existingWikiWord' href='/nlab/show/linear+order'>linearly ordered sets</a> <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_199' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>X</mi></mrow><annotation encoding='application/x-tex'>X</annotation></semantics></math> where <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_200' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>G</mi><mo stretchy='false'>(</mo><mi>X</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>G(X)</annotation></semantics></math> is the set <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_201' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ℕ</mi><mo>×</mo><mi>X</mi></mrow><annotation encoding='application/x-tex'>\mathbb{N} \times X</annotation></semantics></math> equipped with the ordinal product or <a class='existingWikiWord' href='/nlab/show/lexicographic+order'>lexicographic order</a>. (Actually we replace <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_202' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ℕ</mi></mrow><annotation encoding='application/x-tex'>\mathbb{N}</annotation></semantics></math> with the set of integers greater than or equal to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_203' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>2</mn></mrow><annotation encoding='application/x-tex'>2</annotation></semantics></math>.) Define a map</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_204' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ξ</mi><mo>:</mo><msub><mi>ℝ</mi> <mrow><mo>≥</mo><mn>1</mn></mrow></msub><mo>→</mo><msub><mi>ℕ</mi> <mrow><mo>≥</mo><mn>2</mn></mrow></msub><mo>×</mo><msub><mi>ℝ</mi> <mrow><mo>≥</mo><mn>1</mn></mrow></msub></mrow><annotation encoding='application/x-tex'>\xi: \mathbb{R}_{\geq 1} \to \mathbb{N}_{\geq 2} \times \mathbb{R}_{\geq 1}</annotation></semantics></math></div>
<p>where <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_205' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ξ</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo>=</mo><mo stretchy='false'>(</mo><mi>β</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo><mo>,</mo><mo lspace='verythinmathspace' rspace='0em'>−</mo><mfrac><mn>1</mn><mrow><mi>x</mi><mo>−</mo><mi>β</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo></mrow></mfrac><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\xi(x) = (\beta(x), -\frac1{x - \beta(x)})</annotation></semantics></math>.</p>

<div class='num_theorem' id='PavPratt'>
<h6 id='theorem_3'>Theorem</h6>

<p><strong>(<a href='#PP'>Pavlovic-Pratt</a>)</strong> The map <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_206' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ξ</mi></mrow><annotation encoding='application/x-tex'>\xi</annotation></semantics></math> defines a <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_207' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>G</mi></mrow><annotation encoding='application/x-tex'>G</annotation></semantics></math>-coalgebra structure <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_208' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ξ</mi><mo>:</mo><msub><mi>ℝ</mi> <mrow><mo>≥</mo><mn>1</mn></mrow></msub><mo>→</mo><mi>G</mi><mo stretchy='false'>(</mo><msub><mi>ℝ</mi> <mrow><mo>≥</mo><mn>1</mn></mrow></msub><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\xi: \mathbb{R}_{\geq 1} \to G(\mathbb{R}_{\geq 1})</annotation></semantics></math>, making <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_209' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>ℝ</mi> <mrow><mo>≥</mo><mn>1</mn></mrow></msub></mrow><annotation encoding='application/x-tex'>\mathbb{R}_{\geq 1}</annotation></semantics></math> the terminal <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_210' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>G</mi></mrow><annotation encoding='application/x-tex'>G</annotation></semantics></math>-coalgebra.</p>
</div>

<h3 id='rationals_as_initial_algebra'>Rationals as initial algebra</h3>

<p>Now let <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_211' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>Q</mi></mstyle><mo>=</mo><mo stretchy='false'>{</mo><mi>r</mi><mo>∈</mo><mi>ℚ</mi><mo>:</mo><mi>r</mi><mo>&gt;</mo><mn>1</mn><mo stretchy='false'>}</mo><mo>∪</mo><mo stretchy='false'>{</mo><mn>∞</mn><mo stretchy='false'>}</mo></mrow><annotation encoding='application/x-tex'>\mathbf{Q} = \{r \in \mathbb{Q}: r \gt 1\} \cup \{\infty\}</annotation></semantics></math>, the set of rational elements of <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_212' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>R</mi></mstyle></mrow><annotation encoding='application/x-tex'>\mathbf{R}</annotation></semantics></math>. On the category of linear orders, let <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_213' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>H</mi></mrow><annotation encoding='application/x-tex'>H</annotation></semantics></math> be the endofunctor <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_214' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>H</mi><mo stretchy='false'>(</mo><mi>X</mi><mo stretchy='false'>)</mo><mo>=</mo><mi>G</mi><mo stretchy='false'>(</mo><mi>X</mi><mo stretchy='false'>)</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>H(X) = G(X) + 1</annotation></semantics></math>, the <a class='existingWikiWord' href='/nlab/show/ordinal+sum'>ordinal sum</a> where <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_215' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>G</mi></mrow><annotation encoding='application/x-tex'>G</annotation></semantics></math> was defined <a href='#half-open'>above</a>.</p>

<p>The initial <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_216' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>H</mi></mrow><annotation encoding='application/x-tex'>H</annotation></semantics></math>-algebra is the free monoid <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_217' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msubsup><mi>ℕ</mi> <mo>+</mo> <mo>*</mo></msubsup></mrow><annotation encoding='application/x-tex'>\mathbb{N}_+^\ast</annotation></semantics></math>, <a class='existingWikiWord' href='/nlab/show/lexicographic+order'>lexicographically ordered</a> according to the convention given in this <a href='/nlab/show/lexicographic+order#antidictionary'>remark</a> (where initial segments of words <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_218' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>w</mi></mrow><annotation encoding='application/x-tex'>w</annotation></semantics></math> are <em>greater</em> than <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_219' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>w</mi></mrow><annotation encoding='application/x-tex'>w</annotation></semantics></math>).</p>

<p>On the other hand, we have an <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_220' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>H</mi></mrow><annotation encoding='application/x-tex'>H</annotation></semantics></math>-algebra structure on <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_221' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ℚ</mi></mrow><annotation encoding='application/x-tex'>\mathbb{Q}</annotation></semantics></math>, a function</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_222' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ξ</mi><mo>:</mo><mspace width='thickmathspace'></mspace><mo stretchy='false'>(</mo><msub><mi>ℕ</mi> <mo>+</mo></msub><mo>×</mo><mstyle mathvariant='bold'><mi>Q</mi></mstyle><mo stretchy='false'>)</mo><mo>+</mo><mn>1</mn><mo>→</mo><mstyle mathvariant='bold'><mi>Q</mi></mstyle></mrow><annotation encoding='application/x-tex'>\xi:\; (\mathbb{N}_+ \times \mathbf{Q}) + 1 \to \mathbf{Q}</annotation></semantics></math></div>
<p>where for <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_223' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo>*</mo><mo>∈</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>\ast \in 1</annotation></semantics></math>, <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_224' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ξ</mi><mo stretchy='false'>(</mo><mo>*</mo><mo stretchy='false'>)</mo><mo>=</mo><mn>∞</mn></mrow><annotation encoding='application/x-tex'>\xi(\ast) = \infty</annotation></semantics></math>, otherwise <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_225' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ξ</mi><mo stretchy='false'>(</mo><mi>n</mi><mo>,</mo><mi>r</mi><mo stretchy='false'>)</mo><mo>=</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo>−</mo><mn>1</mn><mo stretchy='false'>/</mo><mi>r</mi></mrow><annotation encoding='application/x-tex'>\xi(n, r) = n+1-1/r</annotation></semantics></math>. Observe that this is indeed a monotone map between the linear orders <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_226' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>H</mi><mo stretchy='false'>(</mo><mstyle mathvariant='bold'><mi>Q</mi></mstyle><mo stretchy='false'>)</mo><mo>→</mo><mstyle mathvariant='bold'><mi>Q</mi></mstyle></mrow><annotation encoding='application/x-tex'>H(\mathbf{Q}) \to \mathbf{Q}</annotation></semantics></math>.</p>

<div class='num_theorem' id='initial'>
<h6 id='theorem_4'>Theorem</h6>

<p><math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_227' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><mstyle mathvariant='bold'><mi>Q</mi></mstyle><mo>,</mo><mi>ξ</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>(\mathbf{Q}, \xi)</annotation></semantics></math> is the initial <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_228' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>H</mi></mrow><annotation encoding='application/x-tex'>H</annotation></semantics></math>-algebra.</p>
</div>

<p>The inverse map <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_229' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>ξ</mi> <mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn></mrow></msup><mo>:</mo><mstyle mathvariant='bold'><mi>Q</mi></mstyle><mo>→</mo><mi>H</mi><mo stretchy='false'>(</mo><mstyle mathvariant='bold'><mi>Q</mi></mstyle><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\xi^{-1}: \mathbf{Q} \to H(\mathbf{Q})</annotation></semantics></math> is in essence another form of the acf (see above): if <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_230' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>ceil</mi><mo stretchy='false'>(</mo><mi>s</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>ceil(s)</annotation></semantics></math> denotes the least integer greater than or equal to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_231' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>s</mi></mrow><annotation encoding='application/x-tex'>s</annotation></semantics></math>, then <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_232' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>ξ</mi> <mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn></mrow></msup><mo stretchy='false'>(</mo><mn>∞</mn><mo stretchy='false'>)</mo><mo>=</mo><mo>*</mo></mrow><annotation encoding='application/x-tex'>\xi^{-1}(\infty) = \ast</annotation></semantics></math>, and otherwise</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_233' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>ξ</mi> <mrow><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn></mrow></msup><mo stretchy='false'>(</mo><mi>r</mi><mo stretchy='false'>)</mo><mo>=</mo><mo stretchy='false'>(</mo><mi>ceil</mi><mo stretchy='false'>(</mo><mi>r</mi><mo stretchy='false'>)</mo><mo>−</mo><mn>1</mn><mo>,</mo><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn><mo stretchy='false'>/</mo><mo stretchy='false'>(</mo><mi>r</mi><mo>−</mo><mi>ceil</mi><mo stretchy='false'>(</mo><mi>r</mi><mo stretchy='false'>)</mo><mo stretchy='false'>)</mo><mo>.</mo></mrow><annotation encoding='application/x-tex'>\xi^{-1}(r) = (ceil(r) - 1, -1/(r - ceil(r)).</annotation></semantics></math></div>
<p>The <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_234' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>H</mi></mrow><annotation encoding='application/x-tex'>H</annotation></semantics></math>-algebra isomorphism <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_235' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msubsup><mi>ℕ</mi> <mo>+</mo> <mo>*</mo></msubsup><mo>→</mo><mstyle mathvariant='bold'><mi>Q</mi></mstyle></mrow><annotation encoding='application/x-tex'>\mathbb{N}_+^\ast \to \mathbf{Q}</annotation></semantics></math> takes a finite word <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_236' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mn>0</mn></msub><msub><mi>a</mi> <mn>1</mn></msub><mi>…</mi><msub><mi>a</mi> <mi>n</mi></msub></mrow><annotation encoding='application/x-tex'>a_0 a_1 \ldots a_n</annotation></semantics></math> to the rational number to which the acf</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_237' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mn>0</mn></msub><mo>+</mo><mn>1</mn><mo>−</mo><mfrac><mn>1</mn><mrow><msub><mi>a</mi> <mn>1</mn></msub><mo>+</mo><mn>1</mn><mo>−</mo><mfrac><mn>1</mn><mrow><msub><mi>a</mi> <mn>2</mn></msub><mo>+</mo><mn>1</mn><mo>−</mo><mfrac><mn>1</mn><mrow><msub><mi>a</mi> <mn>3</mn></msub><mo>+</mo><mn>1</mn><mo>−</mo><mi>⋯</mi></mrow></mfrac></mrow></mfrac></mrow></mfrac></mrow><annotation encoding='application/x-tex'>a_0 + 1 - \frac{1}{a_1 + 1 - \frac{1}{a_2 + 1 - \frac{1}{a_3 + 1 - \cdots}}}</annotation></semantics></math></div>
<p>evaluates.</p>

<h2 id='rational_tangles'>Rational tangles</h2>

<p>Among the many uses of continued fractions, we mention a quite remarkable one due to John H. Conway.</p>

<div class='num_defn'>
<h6 id='definition'>Definition</h6>

<p>A <em>rational tangle</em> is a subspace <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_238' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>T</mi></mrow><annotation encoding='application/x-tex'>T</annotation></semantics></math> of the 3-disk <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_239' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>D</mi> <mn>3</mn></msup></mrow><annotation encoding='application/x-tex'>D^3</annotation></semantics></math> obtained by embedding two arcs</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_240' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><msub><mi>α</mi> <mn>1</mn></msub><mo>,</mo><msub><mi>α</mi> <mn>2</mn></msub><mo stretchy='false'>)</mo><mo>:</mo><mi>I</mi><mo>+</mo><mi>I</mi><mo>→</mo><msup><mi>D</mi> <mn>3</mn></msup><mo>,</mo></mrow><annotation encoding='application/x-tex'>(\alpha_1, \alpha_2): I + I \to D^3,</annotation></semantics></math></div>
<p>with endpoints on the boundary <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_241' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo>∂</mo><msup><mi>D</mi> <mn>3</mn></msup></mrow><annotation encoding='application/x-tex'>\partial D^3</annotation></semantics></math>, such that the pair of spaces <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_242' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><msup><mi>D</mi> <mn>3</mn></msup><mo>,</mo><mi>T</mi><mo>=</mo><msub><mi>α</mi> <mn>1</mn></msub><mo stretchy='false'>(</mo><mi>I</mi><mo stretchy='false'>)</mo><mo>+</mo><msub><mi>α</mi> <mn>2</mn></msub><mo stretchy='false'>(</mo><mi>I</mi><mo stretchy='false'>)</mo><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>(D^3, T = \alpha_1(I) + \alpha_2(I))</annotation></semantics></math> is homeomorphic to the pair <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_243' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><msup><mi>D</mi> <mn>2</mn></msup><mo>×</mo><mi>I</mi><mo>,</mo><mo stretchy='false'>{</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy='false'>}</mo><mo>×</mo><mi>I</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>(D^2 \times I, \{x, y\} \times I)</annotation></semantics></math>, with <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_244' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>,</mo><mi>y</mi><mo>∈</mo><msup><mi>D</mi> <mn>2</mn></msup></mrow><annotation encoding='application/x-tex'>x, y \in D^2</annotation></semantics></math> distinct points. Two rational tangles <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_245' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>S</mi><mo>,</mo><mi>T</mi></mrow><annotation encoding='application/x-tex'>S, T</annotation></semantics></math> are <em>isotopic</em> if there exists an orientation-preserving homeomorphism <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_246' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><msup><mi>D</mi> <mn>3</mn></msup><mo>,</mo><mi>S</mi><mo stretchy='false'>)</mo><mo>→</mo><mo stretchy='false'>(</mo><msup><mi>D</mi> <mn>3</mn></msup><mo>,</mo><mi>T</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>(D^3, S) \to (D^3, T)</annotation></semantics></math> that is the identity on <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_247' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo>∂</mo><msup><mi>D</mi> <mn>3</mn></msup></mrow><annotation encoding='application/x-tex'>\partial D^3</annotation></semantics></math>.</p>
</div>

<p>Conventionally, rational tangles (or more general 2-tangles) are exhibited by tangle diagrams placed within a disk (with appropriate over- and under-crossings), say a unit disk <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_248' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mrow><mo stretchy='false'>|</mo><mi>z</mi><mo stretchy='false'>|</mo></mrow><mo>≤</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>{|z|} \leq 1</annotation></semantics></math> in the complex plane, with endpoints situated at primitive <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_249' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mn>8</mn> <mi>th</mi></msup></mrow><annotation encoding='application/x-tex'>8^{th}</annotation></semantics></math> roots of unity <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_250' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>exp</mi><mo stretchy='false'>(</mo><mo stretchy='false'>(</mo><mn>2</mn><mi>k</mi><mo>+</mo><mn>1</mn><mo stretchy='false'>)</mo><mi>i</mi><mi>π</mi><mo stretchy='false'>/</mo><mn>8</mn><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>\exp((2k+1)i\pi/8)</annotation></semantics></math>; these endpoints are indicated by their directions NE, NW, SW, SE. There is a trivial 2-tangle with a chord from NE to NW and another from SE to SW; this is denoted <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_251' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><mn>0</mn><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[0]</annotation></semantics></math>. Two operations that can be used to generate further 2-tangles are</p>

<ul>
<li>
<p>“Turn” (rotate the disk through 90 degrees counterclockwise),</p>
</li>

<li>
<p>“Twist” (insert a “horizontal” twist that interchanges NE and SE, which can be a positive twist or a negative twist depending on convention).</p>
</li>
</ul>

<div class='num_theorem'>
<h6 id='theorem_5'>Theorem</h6>

<p><strong>(Conway)</strong> The set of isotopy classes of rational tangles is in bijection with the set of rational elements <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_252' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi><mo>∈</mo><mi>ℚ</mi><mo>∪</mo><mo stretchy='false'>{</mo><mn>∞</mn><mo stretchy='false'>}</mo></mrow><annotation encoding='application/x-tex'>q \in \mathbb{Q} \cup \{\infty\}</annotation></semantics></math>, in such a way that if <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_253' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><mi>q</mi><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[q]</annotation></semantics></math> is the isotopy class corresponding to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_254' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi></mrow><annotation encoding='application/x-tex'>q</annotation></semantics></math>, then <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_255' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn><mo stretchy='false'>/</mo><mi>q</mi><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[-1/q]</annotation></semantics></math> is the class corresponding to a turn of <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_256' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><mi>q</mi><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[q]</annotation></semantics></math>, and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_257' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><mn>1</mn><mo>+</mo><mi>q</mi><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[1+q]</annotation></semantics></math> is the class corresponding to a positive twist of <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_258' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><mi>q</mi><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[q]</annotation></semantics></math>.</p>
</div>

<p>In particular, every rational tangle can be brought back to the trivial tangle <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_259' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><mn>0</mn><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[0]</annotation></semantics></math> by a series of (positive) twists and turns, and every rational tangle is isotopic to the tangle obtained by applying a 180 degree counterclockwise turn to it. A very readable account of this result may be found in an article by Kauffman and Lambropoulou, <a href='http://arxiv.org/pdf/math/0311499.pdf'>here</a>.</p>

<p>It should be remarked that the twist and turn operations correspond to group elements in <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_260' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>PSL</mi> <mn>2</mn></msub><mo stretchy='false'>(</mo><mi>ℤ</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>PSL_2(\mathbb{Z})</annotation></semantics></math> (cf. the article <a class='existingWikiWord' href='/nlab/show/Moebius+transformation'>Moebius transformation</a>, in particular the remarks on the surjective homomorphism <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_261' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>B</mi> <mn>3</mn></msub><mo>→</mo><msub><mi>PSL</mi> <mn>2</mn></msub><mo stretchy='false'>(</mo><mi>ℤ</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>B_3 \to PSL_2(\mathbb{Z})</annotation></semantics></math> where <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_262' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>B</mi> <mn>3</mn></msub></mrow><annotation encoding='application/x-tex'>B_3</annotation></semantics></math> is the braid group on <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_263' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>3</mn></mrow><annotation encoding='application/x-tex'>3</annotation></semantics></math> strands):</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_264' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>turn</mi><mo>=</mo><mrow><mo>(</mo><mrow><mtable><mtr><mtd><mn>0</mn></mtd> <mtd><mn>1</mn></mtd></mtr> <mtr><mtd><mo lspace='verythinmathspace' rspace='0em'>−</mo><mn>1</mn></mtd> <mtd><mn>0</mn></mtd></mtr></mtable></mrow><mo>)</mo></mrow><mo>,</mo><mspace width='2em'></mspace><mi>pos</mi><mo>.</mo><mi>twist</mi><mo>=</mo><mrow><mo>(</mo><mrow><mtable><mtr><mtd><mn>1</mn></mtd> <mtd><mn>1</mn></mtd></mtr> <mtr><mtd><mn>0</mn></mtd> <mtd><mn>1</mn></mtd></mtr></mtable></mrow><mo>)</mo></mrow></mrow><annotation encoding='application/x-tex'>turn = \left(
\array{
0 &amp; 1 \\
-1 &amp; 0
}\right), \qquad pos.twist = \left(
\array{
1 &amp; 1 \\
0 &amp; 1
}\right)
</annotation></semantics></math></div>
<p>John Baez asks a question about this in <a href='http://math.ucr.edu/home/baez/week228.html'>TWF228</a>, and reports on an answer in <a href='http://math.ucr.edu/home/baez/week229.html'>TWF229</a>. He returns to this topic in an illuminating comment <a href='http://golem.ph.utexas.edu/category/2014/04/the_modular_flow_on_the_space.html#c046316'>here</a>.</p>

<p>David Corfield speculates at the <a href='http://golem.ph.utexas.edu/category/2011/01/coalgebraic_tangles.html'>Café</a> that the infinite tangles mentioned by <a href='#KL'>Kauffman and Lambropoulou</a>, as limits of rational tangles, might be viewed as belonging to a coalgebraic completion of the collection of rational tangles (along the lines of seeing the terminal coalgebra <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_265' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>R</mi></mstyle></mrow><annotation encoding='application/x-tex'>\mathbf{R}</annotation></semantics></math> as a coalgebraic completion of the initial algebra <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_266' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mstyle mathvariant='bold'><mi>Q</mi></mstyle></mrow><annotation encoding='application/x-tex'>\mathbf{Q}</annotation></semantics></math>, as in Theorem <a class='maruku-ref' href='#initial'>4</a>).</p>

<h2 id='the_calkinwilf_and_sternbrocot_trees'>The Calkin-Wilf and Stern-Brocot trees</h2>

<p>The Calkin-Wilf tree is an infinite complete binary tree whose vertices are in 1-to-1 correspondence with the positive rational numbers. The tree may be defined inductively by the following very simple recipe (Calkin &amp; Wilf, 2000):</p>

<ul>
<li><math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_267' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>1</mn><mo stretchy='false'>/</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>1/1</annotation></semantics></math> is at the top of the tree, and</li>

<li>each vertex <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_268' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>i</mi><mo stretchy='false'>/</mo><mi>j</mi></mrow><annotation encoding='application/x-tex'>i/j</annotation></semantics></math> has two children: its left child is <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_269' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>i</mi><mo stretchy='false'>/</mo><mo stretchy='false'>(</mo><mi>i</mi><mo>+</mo><mi>j</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>i/(i+j)</annotation></semantics></math> and its right child is <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_270' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>(</mo><mi>i</mi><mo>+</mo><mi>j</mi><mo stretchy='false'>)</mo><mo stretchy='false'>/</mo><mi>j</mi></mrow><annotation encoding='application/x-tex'>(i+j)/j</annotation></semantics></math></li>
</ul>

<p>For example, the first four levels of the Calkin-Wilf tree are:</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_271' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mfrac><mrow><mn>1</mn><mo stretchy='false'>/</mo><mn>1</mn></mrow><mrow><mfrac><mrow><mn>1</mn><mo stretchy='false'>/</mo><mn>2</mn></mrow><mrow><mfrac><mrow><mn>1</mn><mo stretchy='false'>/</mo><mn>3</mn></mrow><mrow><mn>1</mn><mo stretchy='false'>/</mo><mn>4</mn><mspace width='1em'></mspace><mn>4</mn><mo stretchy='false'>/</mo><mn>3</mn></mrow></mfrac><mspace width='1em'></mspace><mfrac><mrow><mn>3</mn><mo stretchy='false'>/</mo><mn>2</mn></mrow><mrow><mn>3</mn><mo stretchy='false'>/</mo><mn>5</mn><mspace width='1em'></mspace><mn>5</mn><mo stretchy='false'>/</mo><mn>2</mn></mrow></mfrac></mrow></mfrac><mspace width='1em'></mspace><mfrac><mrow><mn>2</mn><mo stretchy='false'>/</mo><mn>1</mn></mrow><mrow><mfrac><mrow><mn>2</mn><mo stretchy='false'>/</mo><mn>3</mn></mrow><mrow><mn>2</mn><mo stretchy='false'>/</mo><mn>5</mn><mspace width='1em'></mspace><mn>5</mn><mo stretchy='false'>/</mo><mn>3</mn></mrow></mfrac><mspace width='1em'></mspace><mfrac><mrow><mn>3</mn><mo stretchy='false'>/</mo><mn>1</mn></mrow><mrow><mn>3</mn><mo stretchy='false'>/</mo><mn>4</mn><mspace width='1em'></mspace><mn>4</mn><mo stretchy='false'>/</mo><mn>1</mn></mrow></mfrac></mrow></mfrac></mrow></mfrac></mrow><annotation encoding='application/x-tex'>
\frac{1/1}{
 \frac{1/2}{
  \frac{1/3}{1/4\quad 4/3}
  \quad
  \frac{3/2}{3/5\quad 5/2}}
 \quad
 \frac{2/1}{
  \frac{2/3}{2/5\quad 5/3}
  \quad
  \frac{3/1}{3/4\quad 4/1}}}

</annotation></semantics></math></div>
<p>Remarkably, every positive rational number appears exactly once in the tree, and so performing a breadth-first traversal (<math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_272' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>1</mn><mo stretchy='false'>/</mo><mn>1</mn><mo>,</mo><mn>1</mn><mo stretchy='false'>/</mo><mn>2</mn><mo>,</mo><mn>2</mn><mo stretchy='false'>/</mo><mn>1</mn><mo>,</mo><mn>1</mn><mo stretchy='false'>/</mo><mn>3</mn><mo>,</mo><mn>3</mn><mo stretchy='false'>/</mo><mn>2</mn><mo>,</mo><mi>…</mi></mrow><annotation encoding='application/x-tex'>1/1, 1/2, 2/1, 1/3, 3/2, \dots</annotation></semantics></math>) gives an enumeration of the positive rationals with no double-counting. In fact, Calkin and Wilf proved that the <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_273' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>n</mi></mrow><annotation encoding='application/x-tex'>n</annotation></semantics></math>th number in this sequence is equal to</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_274' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mfrac><mrow><mi>b</mi><mo stretchy='false'>(</mo><mi>n</mi><mo stretchy='false'>)</mo></mrow><mrow><mi>b</mi><mo stretchy='false'>(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy='false'>)</mo></mrow></mfrac></mrow><annotation encoding='application/x-tex'>\frac{b(n)}{b(n+1)}</annotation></semantics></math></div>
<p>where <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_275' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>b</mi><mo stretchy='false'>(</mo><mi>n</mi><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>b(n)</annotation></semantics></math> is the number of ways of writing the integer <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_276' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>n</mi></mrow><annotation encoding='application/x-tex'>n</annotation></semantics></math> as a sum of powers of 2, each power being used at most twice.</p>

<p>By locating a positive rational <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_277' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi></mrow><annotation encoding='application/x-tex'>q</annotation></semantics></math> in the Calkin-Wilf tree and describing the path to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_278' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi></mrow><annotation encoding='application/x-tex'>q</annotation></semantics></math> from the root as a sequence of binary choices, one generates a string of bits which may be interpreted as an “uncompressed” representation of the continued fraction of <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_279' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi></mrow><annotation encoding='application/x-tex'>q</annotation></semantics></math>. In turn, compressing this path by counting the number of repeated bits (i.e., by performing a “run-length encoding”) is a way of reconstructing the continued fraction. This is perhaps easier to see if we first express the two operations returning the left and right children of a vertex <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_280' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi></mrow><annotation encoding='application/x-tex'>x</annotation></semantics></math> equivalently as</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_281' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mrow><mtable columnalign='right left right left right left right left right left' columnspacing='0em' displaystyle='true'><mtr><mtd><mi>L</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo></mtd> <mtd><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><mfrac><mn>1</mn><mi>x</mi></mfrac></mrow></mfrac></mtd></mtr> <mtr><mtd><mi>R</mi><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo></mtd> <mtd><mo>=</mo><mn>1</mn><mo>+</mo><mi>x</mi></mtd></mtr></mtable></mrow></mrow><annotation encoding='application/x-tex'>
\begin{aligned}
L(x) &amp;= \frac{1}{1 + \frac{1}{x}} \\
R(x) &amp;= 1 + x
\end{aligned}

</annotation></semantics></math></div>
<p>from which it follows that</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_282' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mrow><mtable columnalign='right left right left right left right left right left' columnspacing='0em' displaystyle='true'><mtr><mtd><msup><mi>L</mi> <mi>a</mi></msup><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo></mtd> <mtd><mo>=</mo><mfrac><mn>1</mn><mrow><mi>a</mi><mo>+</mo><mfrac><mn>1</mn><mi>x</mi></mfrac></mrow></mfrac></mtd></mtr> <mtr><mtd><msup><mi>R</mi> <mi>a</mi></msup><mo stretchy='false'>(</mo><mi>x</mi><mo stretchy='false'>)</mo></mtd> <mtd><mo>=</mo><mi>a</mi><mo>+</mo><mi>x</mi></mtd></mtr></mtable></mrow></mrow><annotation encoding='application/x-tex'>
\begin{aligned}
L^a(x) &amp;= \frac{1}{a + \frac{1}{x}} \\
R^a(x) &amp;= a + x
\end{aligned}

</annotation></semantics></math></div>
<p>Now, suppose a positive rational <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_283' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi></mrow><annotation encoding='application/x-tex'>q</annotation></semantics></math> has continued fraction <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_284' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>[</mo><msub><mi>a</mi> <mn>0</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>a</mi> <mi>n</mi></msub><mo stretchy='false'>]</mo></mrow><annotation encoding='application/x-tex'>[a_0,\dots,a_n]</annotation></semantics></math>, assuming without loss of generality that <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_285' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>n</mi></mrow><annotation encoding='application/x-tex'>n</annotation></semantics></math> is odd (we allow for <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_286' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mi>n</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>a_n = 1</annotation></semantics></math>). Then the path from 1 to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_287' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi></mrow><annotation encoding='application/x-tex'>q</annotation></semantics></math> in the Calkin-Wilf tree begins by taking <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_288' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mi>n</mi></msub><mo>−</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>a_n - 1</annotation></semantics></math> steps to the left, followed by <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_289' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding='application/x-tex'>a_{n-1}</annotation></semantics></math> steps to the right, <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_290' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub></mrow><annotation encoding='application/x-tex'>a_{n-2}</annotation></semantics></math> steps to the left, and so on, ending with <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_291' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mn>0</mn></msub></mrow><annotation encoding='application/x-tex'>a_0</annotation></semantics></math> steps to the right. In other words,</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_292' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi><mo>=</mo><msup><mi>R</mi> <mrow><msub><mi>a</mi> <mn>0</mn></msub></mrow></msup><msup><mi>L</mi> <mrow><msub><mi>a</mi> <mn>1</mn></msub></mrow></msup><mi>…</mi><msup><mi>R</mi> <mrow><msub><mi>a</mi> <mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></msup><msup><mi>L</mi> <mrow><msub><mi>a</mi> <mi>n</mi></msub><mo>−</mo><mn>1</mn></mrow></msup><mn>1</mn></mrow><annotation encoding='application/x-tex'>q = R^{a_0}L^{a_1}\dots R^{a_{n-1}} L^{a_n-1} 1</annotation></semantics></math></div>
<p>For example:</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_293' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mrow><mtable columnalign='right left right left right left right left right left' columnspacing='0em' displaystyle='true'><mtr><mtd><mn>2</mn><mo stretchy='false'>/</mo><mn>5</mn></mtd> <mtd><mo>=</mo><mi>LLR</mi><mo stretchy='false'>(</mo><mn>1</mn><mo stretchy='false'>)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mo>+</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></mfrac></mrow></mfrac></mtd></mtr> <mtr><mtd><mn>12</mn><mo stretchy='false'>/</mo><mn>7</mn></mtd> <mtd><mo>=</mo><mi>RLRRL</mi><mo stretchy='false'>(</mo><mn>1</mn><mo stretchy='false'>)</mo><mo>=</mo><mn>1</mn><mo>+</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mo>+</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><mfrac><mn>1</mn><mn>1</mn></mfrac></mrow></mfrac></mrow></mfrac></mrow></mfrac></mtd></mtr></mtable></mrow></mrow><annotation encoding='application/x-tex'>
\begin{aligned}
2/5 &amp; = LLR(1) = \frac{1}{2 + \frac{1}{1 + 1}} \\
12/7 &amp;= RLRRL(1) = 1 + \frac{1}{1 + \frac{1}{2 + \frac{1}{1 + \frac{1}{1}}}}
\end{aligned}

</annotation></semantics></math></div>
<p>Finally, the Calkin-Wilf tree gives a simple algebraic characterization of the positive rationals, namely as an initial object in the category of pointed modules for the free monoid on two elements <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_294' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mo stretchy='false'>{</mo><mi>L</mi><mo>,</mo><mi>R</mi><mo stretchy='false'>}</mo></mrow><annotation encoding='application/x-tex'>\{L,R\}</annotation></semantics></math>. Given any such module <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_295' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>X</mi></mrow><annotation encoding='application/x-tex'>X</annotation></semantics></math> and point <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_296' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow><annotation encoding='application/x-tex'>x \in X</annotation></semantics></math>, there is a unique module homomorphism <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_297' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msup><mi>ℚ</mi> <mo>+</mo></msup><mo>→</mo><mi>X</mi></mrow><annotation encoding='application/x-tex'>\mathbb{Q}^+ \to X</annotation></semantics></math> sending <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_298' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>1</mn></mrow><annotation encoding='application/x-tex'>1</annotation></semantics></math> to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_299' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi></mrow><annotation encoding='application/x-tex'>x</annotation></semantics></math>, defined as follows: given a positive rational <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_300' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi></mrow><annotation encoding='application/x-tex'>q</annotation></semantics></math>, locate <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_301' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi></mrow><annotation encoding='application/x-tex'>q</annotation></semantics></math> on the Calkin-Wilf tree, and then retrace the path from <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_302' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>1</mn></mrow><annotation encoding='application/x-tex'>1</annotation></semantics></math> to <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_303' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>q</mi></mrow><annotation encoding='application/x-tex'>q</annotation></semantics></math> in <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_304' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>X</mi></mrow><annotation encoding='application/x-tex'>X</annotation></semantics></math>, beginning at <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_305' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>x</mi></mrow><annotation encoding='application/x-tex'>x</annotation></semantics></math> and applying the actions <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_306' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>L</mi><mo>:</mo><mi>X</mi><mo>→</mo><mi>X</mi></mrow><annotation encoding='application/x-tex'>L : X \to X</annotation></semantics></math> and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_307' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mi>R</mi><mo>:</mo><mi>X</mi><mo>→</mo><mi>X</mi></mrow><annotation encoding='application/x-tex'>R : X \to X</annotation></semantics></math> as appropriate.</p>

<p>The Calkin-Wilf tree was first described in a 2000 paper by Neil Calkin and Herbert Wilf, “Recounting the rationals”, but is closely related to the much older Stern-Brocot tree, another arrangement of the positive rationals with the special property that the values are ordered from left to right. Here are the first four levels of the Stern-Brocot tree:</p>
<div class='maruku-equation'><math class='maruku-mathml' display='block' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_308' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mfrac><mrow><mn>1</mn><mo stretchy='false'>/</mo><mn>1</mn></mrow><mrow><mfrac><mrow><mn>1</mn><mo stretchy='false'>/</mo><mn>2</mn></mrow><mrow><mfrac><mrow><mn>1</mn><mo stretchy='false'>/</mo><mn>3</mn></mrow><mrow><mn>1</mn><mo stretchy='false'>/</mo><mn>4</mn><mspace width='1em'></mspace><mn>2</mn><mo stretchy='false'>/</mo><mn>5</mn></mrow></mfrac><mspace width='1em'></mspace><mfrac><mrow><mn>2</mn><mo stretchy='false'>/</mo><mn>3</mn></mrow><mrow><mn>3</mn><mo stretchy='false'>/</mo><mn>5</mn><mspace width='1em'></mspace><mn>3</mn><mo stretchy='false'>/</mo><mn>4</mn></mrow></mfrac></mrow></mfrac><mspace width='1em'></mspace><mfrac><mrow><mn>2</mn><mo stretchy='false'>/</mo><mn>1</mn></mrow><mrow><mfrac><mrow><mn>3</mn><mo stretchy='false'>/</mo><mn>2</mn></mrow><mrow><mn>4</mn><mo stretchy='false'>/</mo><mn>3</mn><mspace width='1em'></mspace><mn>5</mn><mo stretchy='false'>/</mo><mn>3</mn></mrow></mfrac><mspace width='1em'></mspace><mfrac><mrow><mn>3</mn><mo stretchy='false'>/</mo><mn>1</mn></mrow><mrow><mn>5</mn><mo stretchy='false'>/</mo><mn>2</mn><mspace width='1em'></mspace><mn>4</mn><mo stretchy='false'>/</mo><mn>1</mn></mrow></mfrac></mrow></mfrac></mrow></mfrac></mrow><annotation encoding='application/x-tex'>
\frac{1/1}{
 \frac{1/2}{
  \frac{1/3}{1/4\quad 2/5}
  \quad
  \frac{2/3}{3/5\quad 3/4}}
 \quad
 \frac{2/1}{
  \frac{3/2}{4/3\quad 5/3}
  \quad
  \frac{3/1}{5/2\quad 4/1}}}

</annotation></semantics></math></div>
<p>In fact, each tree may be obtained from the other by reversing the paths from the root (e.g., <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_309' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><mn>2</mn><mo stretchy='false'>/</mo><mn>5</mn><mo>=</mo><mi>LLR</mi><mo stretchy='false'>(</mo><mn>1</mn><mo stretchy='false'>)</mo></mrow><annotation encoding='application/x-tex'>2/5 = LLR(1)</annotation></semantics></math> is reached from the root of the Stern-Brocot tree by going down left twice and then right once).</p>

<h2 id='constructive_aspects'>Constructive aspects</h2>

<p>The construction of a continued fraction from an arbitrary <a class='existingWikiWord' href='/nlab/show/real+number'>real number</a> relies on the <a class='existingWikiWord' href='/nlab/show/principle+of+omniscience'>limited principle of omniscience</a> to define the <a class='existingWikiWord' href='/nlab/show/floor'>floor</a>; it is not acceptable in <a class='existingWikiWord' href='/nlab/show/constructive+mathematics'>constructive mathematics</a>. Nevertheless, using the usual constructive meaning of <a class='existingWikiWord' href='/nlab/show/rational+number'>rational number</a> and <a class='existingWikiWord' href='/nlab/show/irrational+number'>irrational number</a> (as well as <a class='existingWikiWord' href='/nlab/show/convergence'>convergence</a> in the real numbers), we have that a continued fraction (involving <a class='existingWikiWord' href='/nlab/show/natural+number'>natural numbers</a>) represents a rational number iff it is finite and an irrational number iff it is infinite; and every rational or irrational number (if positive) is so representable. Constructively, we simply cannot say that every real number is either rational or irrational.</p>

<p>Now, just because a real number has an expansion as a continued fraction, that doesn&#39;t mean that it must be rational or irrational. In general, a continued fraction expansion (according to the coalgebraic formulation) is given by a <a class='existingWikiWord' href='/nlab/show/stream'>stream</a> of natural numbers, and a stream is not necessarily finite (so a <a class='existingWikiWord' href='/nlab/show/free+monoid'>list</a>) or infinite (so a <a class='existingWikiWord' href='/nlab/show/sequence'>sequence</a>). However, a stream that is not finite must be infinite; accordingly, a real number that is not rational must be irrational <em>if</em> it has a continued fraction; even this is not constructively valid without the continued fraction.</p>

<h2 id='references'>References</h2>

<ul id='KL'>
<li>
<p>Wikipedia, <em><a href='http://en.wikipedia.org/wiki/Continued_fraction'>Continued fraction</a></em></p>
</li>

<li>
<p>Claude Brezinski, <em>Continued fractions and Padé approximants</em>, North-Holland 1991. (<a href='http://www.amazon.com/Continued-Fractions-Pade-Approximants-Brezinski/dp/0444881697'>vendor</a>)</p>
</li>

<li>
<p>A. Ya. Khinchin, <em>Continued fractions</em>, U. Chicago Press 1964.</p>
</li>

<li>
<p>Ilan Vardi, <em>Continued fractions from Euclid to the present day</em>, unpublished manuscript (<a href='http://chronomaitre.org/ContinuedFractions.pdf'>web</a>)</p>
</li>

<li>
<p><a class='existingWikiWord' href='/nlab/show/Louis+Kauffman'>Louis Kauffman</a> and Sofia Lambropoulou, <em>On the classification of rational tangles</em>, arXiv (<a href='http://arxiv.org/pdf/math/0311499.pdf'>web</a>).</p>
</li>
</ul>

<p>Dan Piponi wrote a series of posts on his blog “A Neighborhood of Infinity”, using the programming language Haskell to illustrate some of the connections between continued fractions, rational tangles and linear operators:</p>

<ul>
<li>Dan Piponi, “Untangling with Continued Fractions” (<a href='http://blog.sigfpe.com/2008/08/untangling-with-continued-fractions.html'>Part 0</a>, <a href='http://blog.sigfpe.com/2008/08/untangling-with-continued-fractions_16.html'>Part 1</a>, <a href='http://blog.sigfpe.com/2008/08/untangling-with-continued-fractions_23.html'>Part 2</a>, <a href='http://blog.sigfpe.com/2008/08/untangling-with-continued-fractions_31.html'>Part 3</a>, <a href='http://blog.sigfpe.com/2008/09/untangling-with-continued-fractions.html'>Part 4</a>, <a href='http://blog.sigfpe.com/2008/10/untangling-with-continued-fractions.html'>Part 5</a>).</li>
</ul>

<p>The material on half-open intervals as terminal coalgebras was first given by Pavlović and Pratt,</p>

<ul id='PP'>
<li><a class='existingWikiWord' href='/nlab/show/Dusko+Pavlovic'>Dusko Pavlovic</a> and <a class='existingWikiWord' href='/nlab/show/Vaughan+Pratt'>Vaughan Pratt</a>, <em>On coalgebras of real numbers</em>, Electronic Notes in Theoretical Computer Science, Volume 19 (1999), 103–117. (<a href='http://www.sciencedirect.com/science/article/pii/S1571066105802725?np=y'>web</a>)</li>
</ul>

<p>A type-theoretic formalization of the rationals in <a class='existingWikiWord' href='/nlab/show/Coq'>Coq</a> based on the Stern-Brocot/Calkin-Wilf representation is described in:</p>

<ul>
<li>Milad Niqui and Yves Bertot, <em>QArith: Coq Formalisation of Lazy Rational Arithmetic</em>, INRIA report RR-5004, November 2003. (<a href='http://hal.inria.fr/inria-00077041/'>web</a>)</li>
</ul>

<p>Their library includes two implementations of the field operations: 1. a “strict” implementation (in the programming languages sense) in which the operations are performed by first converting continued fractions to ordinary fractions, applying the usual algorithms for arithmetic, and then converting back, and 2. a “lazy” implementation operating directly on continued fractions, in which the operations only need to inspect a portion of the input stream in order to determine a portion of the output stream. This latter approach is based on ideas originally due to Gosper:</p>

<ul>
<li>Bill Gosper, <a href='http://hack.org/mc/writings/hackerdom/hakmem/cf.html'>“Continued fraction arithmetic”</a>, MIT AI, Memo 239 HAKMEM, 1972. (Also described in more detail in <a href='http://www.tweedledum.com/rwg/cfup.htm'>this unpublished note</a>.)</li>
</ul>

<p>
</p>
<div class='footnotes'><hr/><ol><li id='fn:1'>
<p>For rational numbers, there are two continued fraction representations, agreeing up to say <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_310' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding='application/x-tex'>a_{n-1}</annotation></semantics></math>, but ending with <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_311' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mi>n</mi></msub><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>a_n \gt 1</annotation></semantics></math> in one case and <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_312' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mi>n</mi></msub><mo>−</mo><mn>1</mn><mo>,</mo><msub><mi>a</mi> <mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>a_n - 1, a_{n+1} = 1</annotation></semantics></math> in the other (since after all <math class='maruku-mathml' display='inline' id='mathml_8d6b4fe458f9a8c82f95463c5b16e55d6aba47f1_313' xmlns='http://www.w3.org/1998/Math/MathML'><semantics><mrow><msub><mi>a</mi> <mi>n</mi></msub><mo>=</mo><mo stretchy='false'>(</mo><msub><mi>a</mi> <mi>n</mi></msub><mo>−</mo><mn>1</mn><mo stretchy='false'>)</mo><mo>+</mo><mn>1</mn><mo stretchy='false'>/</mo><mn>1</mn></mrow><annotation encoding='application/x-tex'>a_n = (a_n - 1) + 1/1</annotation></semantics></math>). This can be an annoyance, but there are various workarounds. <a href='#fnref:1' rev='footnote'>↩</a></p>
</li></ol></div>
</div>

<div class="revisedby">
  Revised on January 21, 2017 22:31:21 
  by <a class="existingWikiWord" href="/nlab/show/Todd+Trimble">Todd Trimble</a>
  (67.81.95.215)
</div>

<div class="navigation navfoot">

  <a href="/nlab/edit/continued+fraction" accesskey="E" class="navlink" id="edit" rel="nofollow">Edit</a> | <a href="/nlab/revision/continued+fraction/24" accesskey="B" class="navlink" id="to_previous_revision" rel="nofollow">Back in time</a> <span class='revisions'>(24 revisions)</span> | <a href="/nlab/show/diff/continued+fraction" accesskey="C" class="navlink" id="see_changes" rel="nofollow">See changes</a> | <a href="/nlab/history/continued+fraction" accesskey="S" class="navlink" id="history" rel="nofollow">History</a>
  
  <span class="views">
    | Views: 
    <a href="/nlab/print/continued+fraction" accesskey="p" id="view_print" rel="nofollow">Print</a>
    | 
    <a href="/nlab/tex/continued+fraction" id="view_tex" rel="nofollow">TeX</a>
    |
    <a href="/nlab/source/continued+fraction" id="view_source" rel="nofollow">Source</a>
  </span>

  


</div>


    <div id="footer">
    <div>This site is running on <a href="http://golem.ph.utexas.edu/instiki/show/HomePage">Instiki 0.19.7(MML+)</a></div>
    <div>Powered by <a href="http://rubyonrails.com/">Ruby on Rails</a>  2.3.18</div>
    </div>

</div> <!-- Content -->

</div> <!-- Container -->

</body>
</html>
